(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{231:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this;var e=t.$createElement;var i=t._self._c||e;return i("div",{staticClass:"task-history-container"},[t.isHistoryListPage?i("router-view",{attrs:{"selected-config":t.selectedConfig,"job-object":t.jobObject,"job-action":t.jobAction,"set-env":t.setEnv},on:{getTaskDeatail:t.getTaskDeatail}}):t._e()],1)};var a=[];var r=i(3);var n=i.n(r);var o=i(7);var c=i.n(o);var u={name:"HistoryPage",data:function t(){var e={configfile:"配置文件",process:"进程"};var i={generate:this.$t("生成"),start:this.$t("启动"),stop:this.$t("停止"),restart:this.$t("重启"),release:this.$t("下发"),reload:this.$t("重载"),force_stop:this.$t("强制停止"),set_auto:this.$t("托管"),unset_auto:this.$t("取消托管")};var s={1:this.$t("测试"),2:this.$t("体验"),3:this.$t("正式")};return{jobObject:e,jobAction:i,setEnv:s,selectedConfig:null,timer:null,isHistoryListPage:true}},watch:{"$store.state.bizId":function t(){var e=this;var i=this.$route.params.jobId;if(i){this.$store.commit("routeTaskHistoryList")}if(this.$route.name==="task-history-list"){this.isHistoryListPage=false;this.$nextTick(function(){e.isHistoryListPage=true})}}},beforeDestroy:function t(){clearTimeout(this.timer)},created:function t(){this.init()},methods:{init:function t(){var e=this.$route.params.jobId;if(e){this.getSelectedConfig()}},getSelectedConfig:function t(){var e=this;return c()(n.a.mark(function t(){var i,s;return n.a.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:i=e.$route.params.jobId;if(i){a.next=3;break}return a.abrupt("return");case 3:a.next=5;return e.$store.dispatch("job/ajaxGetJobDetail",{jobId:i});case 5:s=a.sent;e.selectedConfig=s.data;if(s.data.is_ready){clearTimeout(e.timer)}else{e.timer=setTimeout(function(){e.getSelectedConfig()},2e3)}case 8:case"end":return a.stop()}}},t)}))()},getTaskDeatail:function t(e){var i=this;this.selectedConfig=e;if(!this.selectedConfig.is_ready){this.$nextTick(function(){i.getSelectedConfig()})}}}};var f=u;var h=i(784);var l=i(10);var v=Object(l["a"])(f,s,a,false,null,"9f140088",null);var d=e["default"]=v.exports},566:function(t,e,i){},784:function(t,e,i){"use strict";var s=i(566);var a=i.n(s);var r=a.a}}]);