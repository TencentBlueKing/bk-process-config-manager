(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{814:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return i});var n;n=(()=>{"use strict";var t={470:t=>{function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var i={resolve:function(){for(var t,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=e.cwd()),s=t),r(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var u=t.length-s,f=o<u?o:u,c=-1,l=0;l<=f;++l){if(l===f){if(u>f){if(47===t.charCodeAt(s+l))return t.slice(s+l+1);if(0===l)return t.slice(s+l)}else o>f&&(47===e.charCodeAt(n+l)?c=l:0===l&&(c=0));break}var h=e.charCodeAt(n+l);if(h!==t.charCodeAt(s+l))break;47===h&&(c=l)}var d="";for(l=n+c+1;l<=a;++l)l!==a&&47!==e.charCodeAt(l)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var f=e.charCodeAt(n);if(47===f){if(!o){i=n+1;break}}else-1===u&&(o=!1,u=n+1),s>=0&&(f===t.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=u))}return i===a?a=u:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===i&&(a=!1,i=s+1),46===u?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var o=-1,s=0,u=-1,f=!0,c=e.length-1,l=0;c>=n;--c)if(47!==(i=e.charCodeAt(c)))-1===u&&(f=!1,u=c+1),46===i?-1===o?o=c:1!==l&&(l=1):-1!==o&&(l=-1);else if(!f){s=c+1;break}return-1===o||-1===u||0===l||1===l&&o===u-1&&o===s+1?-1!==u&&(t.base=t.name=0===s&&a?e.slice(1,u):e.slice(s,u)):(0===s&&a?(t.name=e.slice(1,o),t.base=e.slice(1,u)):(t.name=e.slice(s,o),t.base=e.slice(s,u)),t.ext=e.slice(o,u)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i},447:(t,r,n)=>{var i;if(n.r(r),n.d(r,{URI:()=>g,Utils:()=>T}),"object"==typeof e)i="win32"===e.platform;else if("object"==typeof navigator){var a=navigator.userAgent;i=a.indexOf("Windows")>=0}var o,s,u=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=/^\w[\w\d+.-]*$/,c=/^\//,l=/^\/\//,h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=function(){function e(e,t,r,n,i,a){void 0===a&&(a=!1),"object"==typeof e?(this.scheme=e.scheme||h,this.authority=e.authority||h,this.path=e.path||h,this.query=e.query||h,this.fragment=e.fragment||h):(this.scheme=function(e,t){return e||t?e:"file"}(e,a),this.authority=t||h,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==d&&(t=d+t):t=d}return t}(this.scheme,r||h),this.query=n||h,this.fragment=i||h,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!f.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!c.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,a))}return e.isUri=function(t){return t instanceof e||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString},Object.defineProperty(e.prototype,"fsPath",{get:function(){return k(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,i=e.query,a=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=h),void 0===r?r=this.authority:null===r&&(r=h),void 0===n?n=this.path:null===n&&(n=h),void 0===i?i=this.query:null===i&&(i=h),void 0===a?a=this.fragment:null===a&&(a=h),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&a===this.fragment?this:new v(t,r,n,i,a)},e.parse=function(e,t){void 0===t&&(t=!1);var r=p.exec(e);return r?new v(r[2]||h,S(r[4]||h),S(r[5]||h),S(r[7]||h),S(r[9]||h),t):new v(h,h,h,h,h)},e.file=function(e){var t=h;if(i&&(e=e.replace(/\\/g,d)),e[0]===d&&e[1]===d){var r=e.indexOf(d,2);-1===r?(t=e.substring(2),e=d):(t=e.substring(2,r),e=e.substring(r)||d)}return new v("file",t,e,h,h)},e.from=function(e){return new v(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),w(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new v(t);return r._formatted=t.external,r._fsPath=t._sep===m?t.fsPath:null,r}return t},e}(),m=i?1:void 0,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return u(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=k(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(g),y=((s={})[58]="%3A",s[47]="%2F",s[63]="%3F",s[35]="%23",s[91]="%5B",s[93]="%5D",s[64]="%40",s[33]="%21",s[36]="%24",s[38]="%26",s[39]="%27",s[40]="%28",s[41]="%29",s[42]="%2A",s[43]="%2B",s[44]="%2C",s[59]="%3B",s[61]="%3D",s[32]="%20",s);function b(e,t){for(var r=void 0,n=-1,i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||45===a||46===a||95===a||126===a||t&&47===a)-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),void 0!==r&&(r+=e.charAt(i));else{void 0===r&&(r=e.substr(0,i));var o=y[a];void 0!==o?(-1!==n&&(r+=encodeURIComponent(e.substring(n,i)),n=-1),r+=o):-1===n&&(n=i)}}return-1!==n&&(r+=encodeURIComponent(e.substring(n))),void 0!==r?r:e}function x(e){for(var t=void 0,r=0;r<e.length;r++){var n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=y[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function k(e,t){var r;return r=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,i&&(r=r.replace(/\//g,"\\")),r}function w(e,t){var r=t?x:b,n="",i=e.scheme,a=e.authority,o=e.path,s=e.query,u=e.fragment;if(i&&(n+=i,n+=":"),(a||"file"===i)&&(n+=d,n+=d),a){var f=a.indexOf("@");if(-1!==f){var c=a.substr(0,f);a=a.substr(f+1),-1===(f=c.indexOf(":"))?n+=r(c,!1):(n+=r(c.substr(0,f),!1),n+=":",n+=r(c.substr(f+1),!1)),n+="@"}-1===(f=(a=a.toLowerCase()).indexOf(":"))?n+=r(a,!1):(n+=r(a.substr(0,f),!1),n+=a.substr(f))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2))(l=o.charCodeAt(1))>=65&&l<=90&&(o="/"+String.fromCharCode(l+32)+":"+o.substr(3));else if(o.length>=2&&58===o.charCodeAt(1)){var l;(l=o.charCodeAt(0))>=65&&l<=90&&(o=String.fromCharCode(l+32)+":"+o.substr(2))}n+=r(o,!0)}return s&&(n+="?",n+=r(s,!1)),u&&(n+="#",n+=t?u:b(u,!1)),n}function A(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+A(e.substr(3)):e}}var C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(e){return e.match(C)?e.replace(C,function(e){return A(e)}):e}var T,E=n(470),O=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},I=E.posix||E;!function(e){e.joinPath=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.with({path:I.join.apply(I,O([e.path],t))})},e.resolvePath=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=e.path||"/";return e.with({path:I.resolve.apply(I,O([n],t))})},e.dirname=function(e){var t=I.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)?e:e.with({path:t})},e.basename=function(e){return I.basename(e.path)},e.extname=function(e){return I.extname(e.path)}}(T||(T={}))}},r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}return n.d=((e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}),n.o=((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),n.r=(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}),n(447)})();const{URI:i,Utils:a}=n}).call(this,r(38))},861:function(e,t,r){"use strict";r.r(t);r.d(t,"setupMode",function(){return jn});var n=r(379);var i=2*60*1e3;var a=function(){function e(e){var t=this;this._defaults=e;this._worker=null;this._idleCheckInterval=setInterval(function(){return t._checkIfIdle()},30*1e3);this._lastUsedTime=0;this._configChangeListener=this._defaults.onDidChange(function(){return t._stopWorker()})}e.prototype._stopWorker=function(){if(this._worker){this._worker.dispose();this._worker=null}this._client=null};e.prototype.dispose=function(){clearInterval(this._idleCheckInterval);this._configChangeListener.dispose();this._stopWorker()};e.prototype._checkIfIdle=function(){if(!this._worker){return}var e=Date.now()-this._lastUsedTime;if(e>i){this._stopWorker()}};e.prototype._getClient=function(){this._lastUsedTime=Date.now();if(!this._client){this._worker=n["editor"].createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}});this._client=this._worker.getProxy()}return this._client};e.prototype.getLanguageServiceWorker=function(){var e=this;var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}var n;return this._getClient().then(function(e){n=e}).then(function(r){return e._worker.withSyncedResources(t)}).then(function(e){return n})};return e}();function o(e,t){if(t===void 0){t=false}var r=e.length;var n=0,i="",a=0,o=16,c=0,l=0,h=0,d=0,p=0;function g(t,r){var i=0;var a=0;while(i<t||!r){var o=e.charCodeAt(n);if(o>=48&&o<=57){a=a*16+o-48}else if(o>=65&&o<=70){a=a*16+o-65+10}else if(o>=97&&o<=102){a=a*16+o-97+10}else{break}n++;i++}if(i<t){a=-1}return a}function m(e){n=e;i="";a=0;o=16;p=0}function v(){var t=n;if(e.charCodeAt(n)===48){n++}else{n++;while(n<e.length&&f(e.charCodeAt(n))){n++}}if(n<e.length&&e.charCodeAt(n)===46){n++;if(n<e.length&&f(e.charCodeAt(n))){n++;while(n<e.length&&f(e.charCodeAt(n))){n++}}else{p=3;return e.substring(t,n)}}var r=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101)){n++;if(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45){n++}if(n<e.length&&f(e.charCodeAt(n))){n++;while(n<e.length&&f(e.charCodeAt(n))){n++}r=n}else{p=3}}return e.substring(t,r)}function y(){var t="",i=n;while(true){if(n>=r){t+=e.substring(i,n);p=2;break}var a=e.charCodeAt(n);if(a===34){t+=e.substring(i,n);n++;break}if(a===92){t+=e.substring(i,n);n++;if(n>=r){p=2;break}var o=e.charCodeAt(n++);switch(o){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var s=g(4,true);if(s>=0){t+=String.fromCharCode(s)}else{p=4}break;default:p=5}i=n;continue}if(a>=0&&a<=31){if(u(a)){t+=e.substring(i,n);p=2;break}else{p=6}}n++}return t}function b(){i="";p=0;a=n;l=c;d=h;if(n>=r){a=r;return o=17}var t=e.charCodeAt(n);if(s(t)){do{n++;i+=String.fromCharCode(t);t=e.charCodeAt(n)}while(s(t));return o=15}if(u(t)){n++;i+=String.fromCharCode(t);if(t===13&&e.charCodeAt(n)===10){n++;i+="\n"}c++;h=n;return o=14}switch(t){case 123:n++;return o=1;case 125:n++;return o=2;case 91:n++;return o=3;case 93:n++;return o=4;case 58:n++;return o=6;case 44:n++;return o=5;case 34:n++;i=y();return o=10;case 47:var g=n-1;if(e.charCodeAt(n+1)===47){n+=2;while(n<r){if(u(e.charCodeAt(n))){break}n++}i=e.substring(g,n);return o=12}if(e.charCodeAt(n+1)===42){n+=2;var m=r-1;var b=false;while(n<m){var k=e.charCodeAt(n);if(k===42&&e.charCodeAt(n+1)===47){n+=2;b=true;break}n++;if(u(k)){if(k===13&&e.charCodeAt(n)===10){n++}c++;h=n}}if(!b){n++;p=1}i=e.substring(g,n);return o=13}i+=String.fromCharCode(t);n++;return o=16;case 45:i+=String.fromCharCode(t);n++;if(n===r||!f(e.charCodeAt(n))){return o=16}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i+=v();return o=11;default:while(n<r&&x(t)){n++;t=e.charCodeAt(n)}if(a!==n){i=e.substring(a,n);switch(i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}i+=String.fromCharCode(t);n++;return o=16}}function x(e){if(s(e)||u(e)){return false}switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return false}return true}function k(){var e;do{e=b()}while(e>=12&&e<=15);return e}return{setPosition:m,getPosition:function(){return n},scan:t?k:b,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return a},getTokenLength:function(){return n-a},getTokenStartLine:function(){return l},getTokenStartCharacter:function(){return a-d},getTokenError:function(){return p}}}function s(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function u(e){return e===10||e===13||e===8232||e===8233}function f(e){return e>=48&&e<=57}function c(e,t,r){var n;var i;var a;var s;var u;if(t){s=t.offset;u=s+t.length;a=s;while(a>0&&!p(e,a-1)){a--}var f=u;while(f<e.length&&!p(e,f)){f++}i=e.substring(a,f);n=h(i,r)}else{i=e;n=0;a=0;s=0;u=e.length}var c=d(r,e);var g=false;var m=0;var v;if(r.insertSpaces){v=l(" ",r.tabSize||4)}else{v="\t"}var y=o(i,false);var b=false;function x(){return c+l(v,n+m)}function k(){var e=y.scan();g=false;while(e===15||e===14){g=g||e===14;e=y.scan()}b=e===16||y.getTokenError()!==0;return e}var w=[];function A(r,n,i){if(!b&&(!t||n<u&&i>s)&&e.substring(n,i)!==r){w.push({offset:n,length:i-n,content:r})}}var C=k();if(C!==17){var S=y.getTokenOffset()+a;var T=l(v,n);A(T,a,S)}while(C!==17){var E=y.getTokenOffset()+y.getTokenLength()+a;var O=k();var I="";var j=false;while(!g&&(O===12||O===13)){var P=y.getTokenOffset()+a;A(" ",E,P);E=y.getTokenOffset()+y.getTokenLength()+a;j=O===12;I=j?x():"";O=k()}if(O===2){if(C!==1){m--;I=x()}}else if(O===4){if(C!==3){m--;I=x()}}else{switch(C){case 3:case 1:m++;I=x();break;case 5:case 12:I=x();break;case 13:if(g){I=x()}else if(!j){I=" "}break;case 6:if(!j){I=" "}break;case 10:if(O===6){if(!j){I=""}break}case 7:case 8:case 9:case 11:case 2:case 4:if(O===12||O===13){if(!j){I=" "}}else if(O!==5&&O!==17){b=true}break;case 16:b=true;break}if(g&&(O===12||O===13)){I=x()}}if(O===17){I=r.insertFinalNewline?c:""}var _=y.getTokenOffset()+a;A(I,E,_);C=O}return w}function l(e,t){var r="";for(var n=0;n<t;n++){r+=e}return r}function h(e,t){var r=0;var n=0;var i=t.tabSize||4;while(r<e.length){var a=e.charAt(r);if(a===" "){n++}else if(a==="\t"){n+=i}else{break}r++}return Math.floor(n/i)}function d(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if(n==="\r"){if(r+1<t.length&&t.charAt(r+1)==="\n"){return"\r\n"}return"\r"}else if(n==="\n"){return"\n"}}return e&&e.eol||"\n"}function p(e,t){return"\r\n".indexOf(e.charAt(t))!==-1}var g;(function(e){e.DEFAULT={allowTrailingComma:false}})(g||(g={}));function m(e,t){var r=[];var n=new Object;var i=undefined;var a={value:{},offset:0,length:0,type:"object",parent:undefined};var o=false;function s(e,t,r,n){a.value=e;a.offset=t;a.length=r;a.type=n;a.colonOffset=undefined;i=a}try{C(e,{onObjectBegin:function(e,a){if(t<=e){throw n}i=undefined;o=t>e;r.push("")},onObjectProperty:function(e,i,a){if(t<i){throw n}s(e,i,a,"property");r[r.length-1]=e;if(t<=i+a){throw n}},onObjectEnd:function(e,a){if(t<=e){throw n}i=undefined;r.pop()},onArrayBegin:function(e,a){if(t<=e){throw n}i=undefined;r.push(0)},onArrayEnd:function(e,a){if(t<=e){throw n}i=undefined;r.pop()},onLiteralValue:function(e,r,i){if(t<r){throw n}s(e,r,i,T(e));if(t<=r+i){throw n}},onSeparator:function(e,a,s){if(t<=a){throw n}if(e===":"&&i&&i.type==="property"){i.colonOffset=a;o=false;i=undefined}else if(e===","){var u=r[r.length-1];if(typeof u==="number"){r[r.length-1]=u+1}else{o=true;r[r.length-1]=""}i=undefined}}})}catch(e){if(e!==n){throw e}}return{path:r,previousNode:i,isAtPropertyKey:o,matches:function(e){var t=0;for(var n=0;t<e.length&&n<r.length;n++){if(e[t]===r[n]||e[t]==="*"){t++}else if(e[t]!=="**"){return false}}return t===e.length}}}function v(e,t,r){if(t===void 0){t=[]}if(r===void 0){r=g.DEFAULT}var n=null;var i=[];var a=[];function o(e){if(Array.isArray(i)){i.push(e)}else if(n!==null){i[n]=e}}var s={onObjectBegin:function(){var e={};o(e);a.push(i);i=e;n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){i=a.pop()},onArrayBegin:function(){var e=[];o(e);a.push(i);i=e;n=null},onArrayEnd:function(){i=a.pop()},onLiteralValue:o,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}};C(e,s,r);return i[0]}function y(e,t,r){if(t===void 0){t=[]}if(r===void 0){r=g.DEFAULT}var n={type:"array",offset:-1,length:-1,children:[],parent:undefined};function i(e){if(n.type==="property"){n.length=e-n.offset;n=n.parent}}function a(e){n.children.push(e);return e}var o={onObjectBegin:function(e){n=a({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){n=a({type:"property",offset:t,length:-1,parent:n,children:[]});n.children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){i(e+t);n.length=e+t-n.offset;n=n.parent;i(e+t)},onArrayBegin:function(e,t){n=a({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset;n=n.parent;i(e+t)},onLiteralValue:function(e,t,r){a({type:T(e),offset:t,length:r,parent:n,value:e});i(t+r)},onSeparator:function(e,t,r){if(n.type==="property"){if(e===":"){n.colonOffset=t}else if(e===","){i(t)}}},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}};C(e,o,r);var s=n.children[0];if(s){delete s.parent}return s}function b(e,t){if(!e){return undefined}var r=e;for(var n=0,i=t;n<i.length;n++){var a=i[n];if(typeof a==="string"){if(r.type!=="object"||!Array.isArray(r.children)){return undefined}var o=false;for(var s=0,u=r.children;s<u.length;s++){var f=u[s];if(Array.isArray(f.children)&&f.children[0].value===a){r=f.children[1];o=true;break}}if(!o){return undefined}}else{var c=a;if(r.type!=="array"||c<0||!Array.isArray(r.children)||c>=r.children.length){return undefined}r=r.children[c]}}return r}function x(e){if(!e.parent||!e.parent.children){return[]}var t=x(e.parent);if(e.parent.type==="property"){var r=e.parent.children[0].value;t.push(r)}else if(e.parent.type==="array"){var n=e.parent.children.indexOf(e);if(n!==-1){t.push(n)}}return t}function k(e){switch(e.type){case"array":return e.children.map(k);case"object":var t=Object.create(null);for(var r=0,n=e.children;r<n.length;r++){var i=n[r];var a=i.children[1];if(a){t[i.children[0].value]=k(a)}}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return undefined}}function w(e,t,r){if(r===void 0){r=false}return t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}function A(e,t,r){if(r===void 0){r=false}if(w(e,t,r)){var n=e.children;if(Array.isArray(n)){for(var i=0;i<n.length&&n[i].offset<=t;i++){var a=A(n[i],t,r);if(a){return a}}}return e}return undefined}function C(e,t,r){if(r===void 0){r=g.DEFAULT}var n=o(e,false);function i(e){return e?function(){return e(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return true}}function a(e){return e?function(t){return e(t,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return true}}var s=i(t.onObjectBegin),u=a(t.onObjectProperty),f=i(t.onObjectEnd),c=i(t.onArrayBegin),l=i(t.onArrayEnd),h=a(t.onLiteralValue),d=a(t.onSeparator),p=i(t.onComment),m=a(t.onError);var v=r&&r.disallowComments;var y=r&&r.allowTrailingComma;function b(){while(true){var e=n.scan();switch(n.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:if(!v){x(11)}break;case 2:x(12);break;case 6:x(16);break}switch(e){case 12:case 13:if(v){x(10)}else{p()}break;case 16:x(1);break;case 15:case 14:break;default:return e}}}function x(e,t,r){if(t===void 0){t=[]}if(r===void 0){r=[]}m(e);if(t.length+r.length>0){var i=n.getToken();while(i!==17){if(t.indexOf(i)!==-1){b();break}else if(r.indexOf(i)!==-1){break}i=b()}}}function k(e){var t=n.getTokenValue();if(e){h(t)}else{u(t)}b();return true}function w(){switch(n.getToken()){case 11:var e=n.getTokenValue();var t=Number(e);if(isNaN(t)){x(2);t=0}h(t);break;case 7:h(null);break;case 8:h(true);break;case 9:h(false);break;default:return false}b();return true}function A(){if(n.getToken()!==10){x(3,[],[2,5]);return false}k(false);if(n.getToken()===6){d(":");b();if(!T()){x(4,[],[2,5])}}else{x(5,[],[2,5])}return true}function C(){s();b();var e=false;while(n.getToken()!==2&&n.getToken()!==17){if(n.getToken()===5){if(!e){x(4,[],[])}d(",");b();if(n.getToken()===2&&y){break}}else if(e){x(6,[],[])}if(!A()){x(4,[],[2,5])}e=true}f();if(n.getToken()!==2){x(7,[2],[])}else{b()}return true}function S(){c();b();var e=false;while(n.getToken()!==4&&n.getToken()!==17){if(n.getToken()===5){if(!e){x(4,[],[])}d(",");b();if(n.getToken()===4&&y){break}}else if(e){x(6,[],[])}if(!T()){x(4,[],[4,5])}e=true}l();if(n.getToken()!==4){x(8,[4],[])}else{b()}return true}function T(){switch(n.getToken()){case 3:return S();case 1:return C();case 10:return k(true);default:return w()}}b();if(n.getToken()===17){if(r.allowEmptyContent){return true}x(4,[],[]);return false}if(!T()){x(4,[],[]);return false}if(n.getToken()!==17){x(9,[],[])}return true}function S(e,t){var r=o(e),n=[],i,a=0,s;do{s=r.getPosition();i=r.scan();switch(i){case 12:case 13:case 17:if(a!==s){n.push(e.substring(a,s))}if(t!==undefined){n.push(r.getTokenValue().replace(/[^\r\n]/g,t))}a=r.getPosition();break}}while(i!==17);return n.join("")}function T(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(!e){return"null"}else if(Array.isArray(e)){return"array"}return"object"}default:return"null"}}function E(e,t,r){return O(e,t,void 0,r)}function O(e,t,r,n){var i;var a=t.slice();var o=[];var s=y(e,o);var u=void 0;var f=void 0;while(a.length>0){f=a.pop();u=b(s,a);if(u===void 0&&r!==void 0){if(typeof f==="string"){r=(i={},i[f]=r,i)}else{r=[r]}}else{break}}if(!u){if(r===void 0){throw new Error("Can not delete in empty document")}return I(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(r)},n)}else if(u.type==="object"&&typeof f==="string"&&Array.isArray(u.children)){var c=b(u,[f]);if(c!==void 0){if(r===void 0){if(!c.parent){throw new Error("Malformed AST")}var l=u.children.indexOf(c.parent);var h=void 0;var d=c.parent.offset+c.parent.length;if(l>0){var p=u.children[l-1];h=p.offset+p.length}else{h=u.offset+1;if(u.children.length>1){var g=u.children[1];d=g.offset}}return I(e,{offset:h,length:d-h,content:""},n)}else{return I(e,{offset:c.offset,length:c.length,content:JSON.stringify(r)},n)}}else{if(r===void 0){return[]}var m=JSON.stringify(f)+": "+JSON.stringify(r);var v=n.getInsertionIndex?n.getInsertionIndex(u.children.map(function(e){return e.children[0].value})):u.children.length;var x=void 0;if(v>0){var p=u.children[v-1];x={offset:p.offset+p.length,length:0,content:","+m}}else if(u.children.length===0){x={offset:u.offset+1,length:0,content:m}}else{x={offset:u.offset+1,length:0,content:m+","}}return I(e,x,n)}}else if(u.type==="array"&&typeof f==="number"&&Array.isArray(u.children)){var k=f;if(k===-1){var m=""+JSON.stringify(r);var x=void 0;if(u.children.length===0){x={offset:u.offset+1,length:0,content:m}}else{var p=u.children[u.children.length-1];x={offset:p.offset+p.length,length:0,content:","+m}}return I(e,x,n)}else if(r===void 0&&u.children.length>=0){var w=f;var A=u.children[w];var x=void 0;if(u.children.length===1){x={offset:u.offset+1,length:u.length-2,content:""}}else if(u.children.length-1===w){var p=u.children[w-1];var C=p.offset+p.length;var S=u.offset+u.length;x={offset:C,length:S-2-C,content:""}}else{x={offset:A.offset,length:u.children[w+1].offset-A.offset,content:""}}return I(e,x,n)}else if(r!==void 0){var x=void 0;var m=""+JSON.stringify(r);if(!n.isArrayInsertion&&u.children.length>f){var T=u.children[f];x={offset:T.offset,length:T.length,content:m}}else if(u.children.length===0||f===0){x={offset:u.offset+1,length:0,content:u.children.length===0?m:m+","}}else{var v=f>u.children.length?u.children.length:f;var p=u.children[v-1];x={offset:p.offset+p.length,length:0,content:","+m}}return I(e,x,n)}else{throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+k+" as length is not sufficient")}}else{throw new Error("Can not add "+(typeof f!=="number"?"index":"property")+" to parent of type "+u.type)}}function I(e,t,r){if(!r.formattingOptions){return[t]}var n=j(e,t);var i=t.offset;var a=t.offset+t.content.length;if(t.length===0||t.content.length===0){while(i>0&&!p(n,i-1)){i--}while(a<n.length&&!p(n,a)){a++}}var o=c(n,{offset:i,length:a-i},r.formattingOptions);for(var s=o.length-1;s>=0;s--){var u=o[s];n=j(n,u);i=Math.min(i,u.offset);a=Math.max(a,u.offset+u.length);a+=u.content.length-u.length}var f=e.length-(n.length-a)-i;return[{offset:i,length:f,content:n.substring(i,a)}]}function j(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function P(e,t){return"\r\n \t".indexOf(e.charAt(t))!==-1}var _=o;var M=m;var N=v;var V=y;var F=b;var R=A;var L=x;var D=k;var $=C;var U=S;function W(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function q(e,t,r){return c(e,t,r)}function B(e,t,r,n){return O(e,t,r,n)}function K(e,t){for(var r=t.length-1;r>=0;r--){e=j(e,t[r])}return e}function J(e,t){if(e===t){return true}if(e===null||e===undefined||t===null||t===undefined){return false}if(typeof e!==typeof t){return false}if(typeof e!=="object"){return false}if(Array.isArray(e)!==Array.isArray(t)){return false}var r,n;if(Array.isArray(e)){if(e.length!==t.length){return false}for(r=0;r<e.length;r++){if(!J(e[r],t[r])){return false}}}else{var i=[];for(n in e){i.push(n)}i.sort();var a=[];for(n in t){a.push(n)}a.sort();if(!J(i,a)){return false}for(r=0;r<i.length;r++){if(!J(e[i[r]],t[i[r]])){return false}}}return true}function z(e){return typeof e==="number"}function H(e){return typeof e!=="undefined"}function G(e){return typeof e==="boolean"}function X(e){return typeof e==="string"}var Z;(function(e){e.MIN_VALUE=-2147483648;e.MAX_VALUE=2147483647})(Z||(Z={}));var Q;(function(e){e.MIN_VALUE=0;e.MAX_VALUE=2147483647})(Q||(Q={}));var Y;(function(e){function t(e,t){if(e===Number.MAX_VALUE){e=Q.MAX_VALUE}if(t===Number.MAX_VALUE){t=Q.MAX_VALUE}return{line:e,character:t}}e.create=t;function r(e){var t=e;return at.objectLiteral(t)&&at.uinteger(t.line)&&at.uinteger(t.character)}e.is=r})(Y||(Y={}));var ee;(function(e){function t(e,t,r,n){if(at.uinteger(e)&&at.uinteger(t)&&at.uinteger(r)&&at.uinteger(n)){return{start:Y.create(e,t),end:Y.create(r,n)}}else if(Y.is(e)&&Y.is(t)){return{start:e,end:t}}else{throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")}}e.create=t;function r(e){var t=e;return at.objectLiteral(t)&&Y.is(t.start)&&Y.is(t.end)}e.is=r})(ee||(ee={}));var te;(function(e){function t(e,t){return{uri:e,range:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&ee.is(t.range)&&(at.string(t.uri)||at.undefined(t.uri))}e.is=r})(te||(te={}));var re;(function(e){function t(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}}e.create=t;function r(e){var t=e;return at.defined(t)&&ee.is(t.targetRange)&&at.string(t.targetUri)&&(ee.is(t.targetSelectionRange)||at.undefined(t.targetSelectionRange))&&(ee.is(t.originSelectionRange)||at.undefined(t.originSelectionRange))}e.is=r})(re||(re={}));var ne;(function(e){function t(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}}e.create=t;function r(e){var t=e;return at.numberRange(t.red,0,1)&&at.numberRange(t.green,0,1)&&at.numberRange(t.blue,0,1)&&at.numberRange(t.alpha,0,1)}e.is=r})(ne||(ne={}));var ie;(function(e){function t(e,t){return{range:e,color:t}}e.create=t;function r(e){var t=e;return ee.is(t.range)&&ne.is(t.color)}e.is=r})(ie||(ie={}));var ae;(function(e){function t(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}}e.create=t;function r(e){var t=e;return at.string(t.label)&&(at.undefined(t.textEdit)||pe.is(t))&&(at.undefined(t.additionalTextEdits)||at.typedArray(t.additionalTextEdits,pe.is))}e.is=r})(ae||(ae={}));var oe;(function(e){e["Comment"]="comment";e["Imports"]="imports";e["Region"]="region"})(oe||(oe={}));var se;(function(e){function t(e,t,r,n,i){var a={startLine:e,endLine:t};if(at.defined(r)){a.startCharacter=r}if(at.defined(n)){a.endCharacter=n}if(at.defined(i)){a.kind=i}return a}e.create=t;function r(e){var t=e;return at.uinteger(t.startLine)&&at.uinteger(t.startLine)&&(at.undefined(t.startCharacter)||at.uinteger(t.startCharacter))&&(at.undefined(t.endCharacter)||at.uinteger(t.endCharacter))&&(at.undefined(t.kind)||at.string(t.kind))}e.is=r})(se||(se={}));var ue;(function(e){function t(e,t){return{location:e,message:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&te.is(t.location)&&at.string(t.message)}e.is=r})(ue||(ue={}));var fe;(function(e){e.Error=1;e.Warning=2;e.Information=3;e.Hint=4})(fe||(fe={}));var ce;(function(e){e.Unnecessary=1;e.Deprecated=2})(ce||(ce={}));var le;(function(e){function t(e){var t=e;return t!==undefined&&t!==null&&at.string(t.href)}e.is=t})(le||(le={}));var he;(function(e){function t(e,t,r,n,i,a){var o={range:e,message:t};if(at.defined(r)){o.severity=r}if(at.defined(n)){o.code=n}if(at.defined(i)){o.source=i}if(at.defined(a)){o.relatedInformation=a}return o}e.create=t;function r(e){var t;var r=e;return at.defined(r)&&ee.is(r.range)&&at.string(r.message)&&(at.number(r.severity)||at.undefined(r.severity))&&(at.integer(r.code)||at.string(r.code)||at.undefined(r.code))&&(at.undefined(r.codeDescription)||at.string((t=r.codeDescription)===null||t===void 0?void 0:t.href))&&(at.string(r.source)||at.undefined(r.source))&&(at.undefined(r.relatedInformation)||at.typedArray(r.relatedInformation,ue.is))}e.is=r})(he||(he={}));var de;(function(e){function t(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var i={title:e,command:t};if(at.defined(r)&&r.length>0){i.arguments=r}return i}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.title)&&at.string(t.command)}e.is=r})(de||(de={}));var pe;(function(e){function t(e,t){return{range:e,newText:t}}e.replace=t;function r(e,t){return{range:{start:e,end:e},newText:t}}e.insert=r;function n(e){return{range:e,newText:""}}e.del=n;function i(e){var t=e;return at.objectLiteral(t)&&at.string(t.newText)&&ee.is(t.range)}e.is=i})(pe||(pe={}));var ge;(function(e){function t(e,t,r){var n={label:e};if(t!==undefined){n.needsConfirmation=t}if(r!==undefined){n.description=r}return n}e.create=t;function r(e){var t=e;return t!==undefined&&at.objectLiteral(t)&&at.string(t.label)&&(at.boolean(t.needsConfirmation)||t.needsConfirmation===undefined)&&(at.string(t.description)||t.description===undefined)}e.is=r})(ge||(ge={}));var me;(function(e){function t(e){var t=e;return typeof t==="string"}e.is=t})(me||(me={}));var ve;(function(e){function t(e,t,r){return{range:e,newText:t,annotationId:r}}e.replace=t;function r(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}}e.insert=r;function n(e,t){return{range:e,newText:"",annotationId:t}}e.del=n;function i(e){var t=e;return pe.is(t)&&(ge.is(t.annotationId)||me.is(t.annotationId))}e.is=i})(ve||(ve={}));var ye;(function(e){function t(e,t){return{textDocument:e,edits:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&Oe.is(t.textDocument)&&Array.isArray(t.edits)}e.is=r})(ye||(ye={}));var be;(function(e){function t(e,t,r){var n={kind:"create",uri:e};if(t!==undefined&&(t.overwrite!==undefined||t.ignoreIfExists!==undefined)){n.options=t}if(r!==undefined){n.annotationId=r}return n}e.create=t;function r(e){var t=e;return t&&t.kind==="create"&&at.string(t.uri)&&(t.options===undefined||(t.options.overwrite===undefined||at.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===undefined||at.boolean(t.options.ignoreIfExists)))&&(t.annotationId===undefined||me.is(t.annotationId))}e.is=r})(be||(be={}));var xe;(function(e){function t(e,t,r,n){var i={kind:"rename",oldUri:e,newUri:t};if(r!==undefined&&(r.overwrite!==undefined||r.ignoreIfExists!==undefined)){i.options=r}if(n!==undefined){i.annotationId=n}return i}e.create=t;function r(e){var t=e;return t&&t.kind==="rename"&&at.string(t.oldUri)&&at.string(t.newUri)&&(t.options===undefined||(t.options.overwrite===undefined||at.boolean(t.options.overwrite))&&(t.options.ignoreIfExists===undefined||at.boolean(t.options.ignoreIfExists)))&&(t.annotationId===undefined||me.is(t.annotationId))}e.is=r})(xe||(xe={}));var ke;(function(e){function t(e,t,r){var n={kind:"delete",uri:e};if(t!==undefined&&(t.recursive!==undefined||t.ignoreIfNotExists!==undefined)){n.options=t}if(r!==undefined){n.annotationId=r}return n}e.create=t;function r(e){var t=e;return t&&t.kind==="delete"&&at.string(t.uri)&&(t.options===undefined||(t.options.recursive===undefined||at.boolean(t.options.recursive))&&(t.options.ignoreIfNotExists===undefined||at.boolean(t.options.ignoreIfNotExists)))&&(t.annotationId===undefined||me.is(t.annotationId))}e.is=r})(ke||(ke={}));var we;(function(e){function t(e){var t=e;return t&&(t.changes!==undefined||t.documentChanges!==undefined)&&(t.documentChanges===undefined||t.documentChanges.every(function(e){if(at.string(e.kind)){return be.is(e)||xe.is(e)||ke.is(e)}else{return ye.is(e)}}))}e.is=t})(we||(we={}));var Ae=function(){function e(e,t){this.edits=e;this.changeAnnotations=t}e.prototype.insert=function(e,t,r){var n;var i;if(r===undefined){n=pe.insert(e,t)}else if(me.is(r)){i=r;n=ve.insert(e,t,r)}else{this.assertChangeAnnotations(this.changeAnnotations);i=this.changeAnnotations.manage(r);n=ve.insert(e,t,i)}this.edits.push(n);if(i!==undefined){return i}};e.prototype.replace=function(e,t,r){var n;var i;if(r===undefined){n=pe.replace(e,t)}else if(me.is(r)){i=r;n=ve.replace(e,t,r)}else{this.assertChangeAnnotations(this.changeAnnotations);i=this.changeAnnotations.manage(r);n=ve.replace(e,t,i)}this.edits.push(n);if(i!==undefined){return i}};e.prototype.delete=function(e,t){var r;var n;if(t===undefined){r=pe.del(e)}else if(me.is(t)){n=t;r=ve.del(e,t)}else{this.assertChangeAnnotations(this.changeAnnotations);n=this.changeAnnotations.manage(t);r=ve.del(e,n)}this.edits.push(r);if(n!==undefined){return n}};e.prototype.add=function(e){this.edits.push(e)};e.prototype.all=function(){return this.edits};e.prototype.clear=function(){this.edits.splice(0,this.edits.length)};e.prototype.assertChangeAnnotations=function(e){if(e===undefined){throw new Error("Text edit change is not configured to manage change annotations.")}};return e}();var Ce=function(){function e(e){this._annotations=e===undefined?Object.create(null):e;this._counter=0;this._size=0}e.prototype.all=function(){return this._annotations};Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});e.prototype.manage=function(e,t){var r;if(me.is(e)){r=e}else{r=this.nextId();t=e}if(this._annotations[r]!==undefined){throw new Error("Id "+r+" is already in use.")}if(t===undefined){throw new Error("No annotation provided for id "+r)}this._annotations[r]=t;this._size++;return r};e.prototype.nextId=function(){this._counter++;return this._counter.toString()};return e}();var Se=function(){function e(e){var t=this;this._textEditChanges=Object.create(null);if(e!==undefined){this._workspaceEdit=e;if(e.documentChanges){this._changeAnnotations=new Ce(e.changeAnnotations);e.changeAnnotations=this._changeAnnotations.all();e.documentChanges.forEach(function(e){if(ye.is(e)){var r=new Ae(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=r}})}else if(e.changes){Object.keys(e.changes).forEach(function(r){var n=new Ae(e.changes[r]);t._textEditChanges[r]=n})}}else{this._workspaceEdit={}}}Object.defineProperty(e.prototype,"edit",{get:function(){this.initDocumentChanges();if(this._changeAnnotations!==undefined){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=undefined}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}return this._workspaceEdit},enumerable:false,configurable:true});e.prototype.getTextEditChange=function(e){if(Oe.is(e)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var t={uri:e.uri,version:e.version};var r=this._textEditChanges[t.uri];if(!r){var n=[];var i={textDocument:t,edits:n};this._workspaceEdit.documentChanges.push(i);r=new Ae(n,this._changeAnnotations);this._textEditChanges[t.uri]=r}return r}else{this.initChanges();if(this._workspaceEdit.changes===undefined){throw new Error("Workspace edit is not configured for normal text edit changes.")}var r=this._textEditChanges[e];if(!r){var n=[];this._workspaceEdit.changes[e]=n;r=new Ae(n);this._textEditChanges[e]=r}return r}};e.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._changeAnnotations=new Ce;this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}};e.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._workspaceEdit.changes=Object.create(null)}};e.prototype.createFile=function(e,t,r){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var n;if(ge.is(t)||me.is(t)){n=t}else{r=t}var i;var a;if(n===undefined){i=be.create(e,r)}else{a=me.is(n)?n:this._changeAnnotations.manage(n);i=be.create(e,r,a)}this._workspaceEdit.documentChanges.push(i);if(a!==undefined){return a}};e.prototype.renameFile=function(e,t,r,n){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var i;if(ge.is(r)||me.is(r)){i=r}else{n=r}var a;var o;if(i===undefined){a=xe.create(e,t,n)}else{o=me.is(i)?i:this._changeAnnotations.manage(i);a=xe.create(e,t,n,o)}this._workspaceEdit.documentChanges.push(a);if(o!==undefined){return o}};e.prototype.deleteFile=function(e,t,r){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var n;if(ge.is(t)||me.is(t)){n=t}else{r=t}var i;var a;if(n===undefined){i=ke.create(e,r)}else{a=me.is(n)?n:this._changeAnnotations.manage(n);i=ke.create(e,r,a)}this._workspaceEdit.documentChanges.push(i);if(a!==undefined){return a}};return e}();var Te;(function(e){function t(e){return{uri:e}}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.uri)}e.is=r})(Te||(Te={}));var Ee;(function(e){function t(e,t){return{uri:e,version:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.uri)&&at.integer(t.version)}e.is=r})(Ee||(Ee={}));var Oe;(function(e){function t(e,t){return{uri:e,version:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.uri)&&(t.version===null||at.integer(t.version))}e.is=r})(Oe||(Oe={}));var Ie;(function(e){function t(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.uri)&&at.string(t.languageId)&&at.integer(t.version)&&at.string(t.text)}e.is=r})(Ie||(Ie={}));var je;(function(e){e.PlainText="plaintext";e.Markdown="markdown"})(je||(je={}));(function(e){function t(t){var r=t;return r===e.PlainText||r===e.Markdown}e.is=t})(je||(je={}));var Pe;(function(e){function t(e){var t=e;return at.objectLiteral(e)&&je.is(t.kind)&&at.string(t.value)}e.is=t})(Pe||(Pe={}));var _e;(function(e){e.Text=1;e.Method=2;e.Function=3;e.Constructor=4;e.Field=5;e.Variable=6;e.Class=7;e.Interface=8;e.Module=9;e.Property=10;e.Unit=11;e.Value=12;e.Enum=13;e.Keyword=14;e.Snippet=15;e.Color=16;e.File=17;e.Reference=18;e.Folder=19;e.EnumMember=20;e.Constant=21;e.Struct=22;e.Event=23;e.Operator=24;e.TypeParameter=25})(_e||(_e={}));var Me;(function(e){e.PlainText=1;e.Snippet=2})(Me||(Me={}));var Ne;(function(e){e.Deprecated=1})(Ne||(Ne={}));var Ve;(function(e){function t(e,t,r){return{newText:e,insert:t,replace:r}}e.create=t;function r(e){var t=e;return t&&at.string(t.newText)&&ee.is(t.insert)&&ee.is(t.replace)}e.is=r})(Ve||(Ve={}));var Fe;(function(e){e.asIs=1;e.adjustIndentation=2})(Fe||(Fe={}));var Re;(function(e){function t(e){return{label:e}}e.create=t})(Re||(Re={}));var Le;(function(e){function t(e,t){return{items:e?e:[],isIncomplete:!!t}}e.create=t})(Le||(Le={}));var De;(function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(e){var t=e;return at.string(t)||at.objectLiteral(t)&&at.string(t.language)&&at.string(t.value)}e.is=r})(De||(De={}));var $e;(function(e){function t(e){var t=e;return!!t&&at.objectLiteral(t)&&(Pe.is(t.contents)||De.is(t.contents)||at.typedArray(t.contents,De.is))&&(e.range===undefined||ee.is(e.range))}e.is=t})($e||($e={}));var Ue;(function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t})(Ue||(Ue={}));var We;(function(e){function t(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var i={label:e};if(at.defined(t)){i.documentation=t}if(at.defined(r)){i.parameters=r}else{i.parameters=[]}return i}e.create=t})(We||(We={}));var qe;(function(e){e.Text=1;e.Read=2;e.Write=3})(qe||(qe={}));var Be;(function(e){function t(e,t){var r={range:e};if(at.number(t)){r.kind=t}return r}e.create=t})(Be||(Be={}));var Ke;(function(e){e.File=1;e.Module=2;e.Namespace=3;e.Package=4;e.Class=5;e.Method=6;e.Property=7;e.Field=8;e.Constructor=9;e.Enum=10;e.Interface=11;e.Function=12;e.Variable=13;e.Constant=14;e.String=15;e.Number=16;e.Boolean=17;e.Array=18;e.Object=19;e.Key=20;e.Null=21;e.EnumMember=22;e.Struct=23;e.Event=24;e.Operator=25;e.TypeParameter=26})(Ke||(Ke={}));var Je;(function(e){e.Deprecated=1})(Je||(Je={}));var ze;(function(e){function t(e,t,r,n,i){var a={name:e,kind:t,location:{uri:n,range:r}};if(i){a.containerName=i}return a}e.create=t})(ze||(ze={}));var He;(function(e){function t(e,t,r,n,i,a){var o={name:e,detail:t,kind:r,range:n,selectionRange:i};if(a!==undefined){o.children=a}return o}e.create=t;function r(e){var t=e;return t&&at.string(t.name)&&at.number(t.kind)&&ee.is(t.range)&&ee.is(t.selectionRange)&&(t.detail===undefined||at.string(t.detail))&&(t.deprecated===undefined||at.boolean(t.deprecated))&&(t.children===undefined||Array.isArray(t.children))&&(t.tags===undefined||Array.isArray(t.tags))}e.is=r})(He||(He={}));var Ge;(function(e){e.Empty="";e.QuickFix="quickfix";e.Refactor="refactor";e.RefactorExtract="refactor.extract";e.RefactorInline="refactor.inline";e.RefactorRewrite="refactor.rewrite";e.Source="source";e.SourceOrganizeImports="source.organizeImports";e.SourceFixAll="source.fixAll"})(Ge||(Ge={}));var Xe;(function(e){function t(e,t){var r={diagnostics:e};if(t!==undefined&&t!==null){r.only=t}return r}e.create=t;function r(e){var t=e;return at.defined(t)&&at.typedArray(t.diagnostics,he.is)&&(t.only===undefined||at.typedArray(t.only,at.string))}e.is=r})(Xe||(Xe={}));var Ze;(function(e){function t(e,t,r){var n={title:e};var i=true;if(typeof t==="string"){i=false;n.kind=t}else if(de.is(t)){n.command=t}else{n.edit=t}if(i&&r!==undefined){n.kind=r}return n}e.create=t;function r(e){var t=e;return t&&at.string(t.title)&&(t.diagnostics===undefined||at.typedArray(t.diagnostics,he.is))&&(t.kind===undefined||at.string(t.kind))&&(t.edit!==undefined||t.command!==undefined)&&(t.command===undefined||de.is(t.command))&&(t.isPreferred===undefined||at.boolean(t.isPreferred))&&(t.edit===undefined||we.is(t.edit))}e.is=r})(Ze||(Ze={}));var Qe;(function(e){function t(e,t){var r={range:e};if(at.defined(t)){r.data=t}return r}e.create=t;function r(e){var t=e;return at.defined(t)&&ee.is(t.range)&&(at.undefined(t.command)||de.is(t.command))}e.is=r})(Qe||(Qe={}));var Ye;(function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}e.create=t;function r(e){var t=e;return at.defined(t)&&at.uinteger(t.tabSize)&&at.boolean(t.insertSpaces)}e.is=r})(Ye||(Ye={}));var et;(function(e){function t(e,t,r){return{range:e,target:t,data:r}}e.create=t;function r(e){var t=e;return at.defined(t)&&ee.is(t.range)&&(at.undefined(t.target)||at.string(t.target))}e.is=r})(et||(et={}));var tt;(function(e){function t(e,t){return{range:e,parent:t}}e.create=t;function r(t){var r=t;return r!==undefined&&ee.is(r.range)&&(r.parent===undefined||e.is(r.parent))}e.is=r})(tt||(tt={}));var rt=["\n","\r\n","\r"];var nt;(function(e){function t(e,t,r,n){return new it(e,t,r,n)}e.create=t;function r(e){var t=e;return at.defined(t)&&at.string(t.uri)&&(at.undefined(t.languageId)||at.string(t.languageId))&&at.uinteger(t.lineCount)&&at.func(t.getText)&&at.func(t.positionAt)&&at.func(t.offsetAt)?true:false}e.is=r;function n(e,t){var r=e.getText();var n=i(t,function(e,t){var r=e.range.start.line-t.range.start.line;if(r===0){return e.range.start.character-t.range.start.character}return r});var a=r.length;for(var o=n.length-1;o>=0;o--){var s=n[o];var u=e.offsetAt(s.range.start);var f=e.offsetAt(s.range.end);if(f<=a){r=r.substring(0,u)+s.newText+r.substring(f,r.length)}else{throw new Error("Overlapping edit")}a=u}return r}e.applyEdits=n;function i(e,t){if(e.length<=1){return e}var r=e.length/2|0;var n=e.slice(0,r);var a=e.slice(r);i(n,t);i(a,t);var o=0;var s=0;var u=0;while(o<n.length&&s<a.length){var f=t(n[o],a[s]);if(f<=0){e[u++]=n[o++]}else{e[u++]=a[s++]}}while(o<n.length){e[u++]=n[o++]}while(s<a.length){e[u++]=a[s++]}return e}})(nt||(nt={}));var it=function(){function e(e,t,r,n){this._uri=e;this._languageId=t;this._version=r;this._content=n;this._lineOffsets=undefined}Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:false,configurable:true});e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start);var r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content};e.prototype.update=function(e,t){this._content=e.text;this._version=t;this._lineOffsets=undefined};e.prototype.getLineOffsets=function(){if(this._lineOffsets===undefined){var e=[];var t=this._content;var r=true;for(var n=0;n<t.length;n++){if(r){e.push(n);r=false}var i=t.charAt(n);r=i==="\r"||i==="\n";if(i==="\r"&&n+1<t.length&&t.charAt(n+1)==="\n"){n++}}if(r&&t.length>0){e.push(t.length)}this._lineOffsets=e}return this._lineOffsets};e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets();var r=0,n=t.length;if(n===0){return Y.create(0,e)}while(r<n){var i=Math.floor((r+n)/2);if(t[i]>e){n=i}else{r=i+1}}var a=r-1;return Y.create(a,e-t[a])};e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length){return this._content.length}else if(e.line<0){return 0}var r=t[e.line];var n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)};Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:false,configurable:true});return e}();var at;(function(e){var t=Object.prototype.toString;function r(e){return typeof e!=="undefined"}e.defined=r;function n(e){return typeof e==="undefined"}e.undefined=n;function i(e){return e===true||e===false}e.boolean=i;function a(e){return t.call(e)==="[object String]"}e.string=a;function o(e){return t.call(e)==="[object Number]"}e.number=o;function s(e,r,n){return t.call(e)==="[object Number]"&&r<=e&&e<=n}e.numberRange=s;function u(e){return t.call(e)==="[object Number]"&&-2147483648<=e&&e<=2147483647}e.integer=u;function f(e){return t.call(e)==="[object Number]"&&0<=e&&e<=2147483647}e.uinteger=f;function c(e){return t.call(e)==="[object Function]"}e.func=c;function l(e){return e!==null&&typeof e==="object"}e.objectLiteral=l;function h(e,t){return Array.isArray(e)&&e.every(t)}e.typedArray=h})(at||(at={}));var ot=function(){function e(e,t,r,n){this._uri=e;this._languageId=t;this._version=r;this._content=n;this._lineOffsets=undefined}Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:true,configurable:true});e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start);var r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content};e.prototype.update=function(t,r){for(var n=0,i=t;n<i.length;n++){var a=i[n];if(e.isIncremental(a)){var o=ct(a.range);var s=this.offsetAt(o.start);var u=this.offsetAt(o.end);this._content=this._content.substring(0,s)+a.text+this._content.substring(u,this._content.length);var f=Math.max(o.start.line,0);var c=Math.max(o.end.line,0);var l=this._lineOffsets;var h=ft(a.text,false,s);if(c-f===h.length){for(var d=0,p=h.length;d<p;d++){l[d+f+1]=h[d]}}else{if(h.length<1e4){l.splice.apply(l,[f+1,c-f].concat(h))}else{this._lineOffsets=l=l.slice(0,f+1).concat(h,l.slice(c+1))}}var g=a.text.length-(u-s);if(g!==0){for(var d=f+1+h.length,p=l.length;d<p;d++){l[d]=l[d]+g}}}else if(e.isFull(a)){this._content=a.text;this._lineOffsets=undefined}else{throw new Error("Unknown change event received")}}this._version=r};e.prototype.getLineOffsets=function(){if(this._lineOffsets===undefined){this._lineOffsets=ft(this._content,true)}return this._lineOffsets};e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets();var r=0,n=t.length;if(n===0){return{line:0,character:e}}while(r<n){var i=Math.floor((r+n)/2);if(t[i]>e){n=i}else{r=i+1}}var a=r-1;return{line:a,character:e-t[a]}};e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length){return this._content.length}else if(e.line<0){return 0}var r=t[e.line];var n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)};Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:true,configurable:true});e.isIncremental=function(e){var t=e;return t!==undefined&&t!==null&&typeof t.text==="string"&&t.range!==undefined&&(t.rangeLength===undefined||typeof t.rangeLength==="number")};e.isFull=function(e){var t=e;return t!==undefined&&t!==null&&typeof t.text==="string"&&t.range===undefined&&t.rangeLength===undefined};return e}();var st;(function(e){function t(e,t,r,n){return new ot(e,t,r,n)}e.create=t;function r(e,t,r){if(e instanceof ot){e.update(t,r);return e}else{throw new Error("TextDocument.update: document must be created by TextDocument.create")}}e.update=r;function n(e,t){var r=e.getText();var n=ut(t.map(lt),function(e,t){var r=e.range.start.line-t.range.start.line;if(r===0){return e.range.start.character-t.range.start.character}return r});var i=0;var a=[];for(var o=0,s=n;o<s.length;o++){var u=s[o];var f=e.offsetAt(u.range.start);if(f<i){throw new Error("Overlapping edit")}else if(f>i){a.push(r.substring(i,f))}if(u.newText.length){a.push(u.newText)}i=e.offsetAt(u.range.end)}a.push(r.substr(i));return a.join("")}e.applyEdits=n})(st||(st={}));function ut(e,t){if(e.length<=1){return e}var r=e.length/2|0;var n=e.slice(0,r);var i=e.slice(r);ut(n,t);ut(i,t);var a=0;var o=0;var s=0;while(a<n.length&&o<i.length){var u=t(n[a],i[o]);if(u<=0){e[s++]=n[a++]}else{e[s++]=i[o++]}}while(a<n.length){e[s++]=n[a++]}while(o<i.length){e[s++]=i[o++]}return e}function ft(e,t,r){if(r===void 0){r=0}var n=t?[r]:[];for(var i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a===13||a===10){if(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10){i++}n.push(r+i+1)}}return n}function ct(e){var t=e.start;var r=e.end;if(t.line>r.line||t.line===r.line&&t.character>r.character){return{start:r,end:t}}return e}function lt(e){var t=ct(e.range);if(t!==e.range){return{newText:e.newText,range:t}}return e}var ht;(function(e){e[e["Undefined"]=0]="Undefined";e[e["EnumValueMismatch"]=1]="EnumValueMismatch";e[e["Deprecated"]=2]="Deprecated";e[e["UnexpectedEndOfComment"]=257]="UnexpectedEndOfComment";e[e["UnexpectedEndOfString"]=258]="UnexpectedEndOfString";e[e["UnexpectedEndOfNumber"]=259]="UnexpectedEndOfNumber";e[e["InvalidUnicode"]=260]="InvalidUnicode";e[e["InvalidEscapeCharacter"]=261]="InvalidEscapeCharacter";e[e["InvalidCharacter"]=262]="InvalidCharacter";e[e["PropertyExpected"]=513]="PropertyExpected";e[e["CommaExpected"]=514]="CommaExpected";e[e["ColonExpected"]=515]="ColonExpected";e[e["ValueExpected"]=516]="ValueExpected";e[e["CommaOrCloseBacketExpected"]=517]="CommaOrCloseBacketExpected";e[e["CommaOrCloseBraceExpected"]=518]="CommaOrCloseBraceExpected";e[e["TrailingComma"]=519]="TrailingComma";e[e["DuplicateKey"]=520]="DuplicateKey";e[e["CommentNotPermitted"]=521]="CommentNotPermitted";e[e["SchemaResolveError"]=768]="SchemaResolveError"})(ht||(ht={}));var dt;(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[je.Markdown,je.PlainText],commitCharactersSupport:true}}}}})(dt||(dt={}));function pt(e,t){var r;if(t.length===0){r=e}else{r=e.replace(/\{(\d+)\}/g,function(e,r){var n=r[0];return typeof t[n]!=="undefined"?t[n]:e})}return r}function gt(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}return pt(t,r)}function mt(e){return gt}function vt(e){return mt}var yt=undefined&&undefined.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var bt=mt();var xt={"color-hex":{errorMessage:bt("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:bt("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:bt("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:bt("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:bt("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}};var kt=function(){function e(e,t,r){if(r===void 0){r=0}this.offset=t;this.length=r;this.parent=e}Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:false,configurable:true});e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")};return e}();var wt=function(e){yt(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="null";n.value=null;return n}return t}(kt);var At=function(e){yt(t,e);function t(t,r,n){var i=e.call(this,t,n)||this;i.type="boolean";i.value=r;return i}return t}(kt);var Ct=function(e){yt(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="array";n.items=[];return n}Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:false,configurable:true});return t}(kt);var St=function(e){yt(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="number";n.isInteger=true;n.value=Number.NaN;return n}return t}(kt);var Tt=function(e){yt(t,e);function t(t,r,n){var i=e.call(this,t,r,n)||this;i.type="string";i.value="";return i}return t}(kt);var Et=function(e){yt(t,e);function t(t,r,n){var i=e.call(this,t,r)||this;i.type="property";i.colonOffset=-1;i.keyNode=n;return i}Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:false,configurable:true});return t}(kt);var Ot=function(e){yt(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="object";n.properties=[];return n}Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:false,configurable:true});return t}(kt);function It(e){if(G(e)){return e?{}:{not:{}}}return e}var jt;(function(e){e[e["Key"]=0]="Key";e[e["Enum"]=1]="Enum"})(jt||(jt={}));var Pt=function(){function e(e,t){if(e===void 0){e=-1}this.focusOffset=e;this.exclude=t;this.schemas=[]}e.prototype.add=function(e){this.schemas.push(e)};e.prototype.merge=function(e){Array.prototype.push.apply(this.schemas,e.schemas)};e.prototype.include=function(e){return(this.focusOffset===-1||Rt(e,this.focusOffset))&&e!==this.exclude};e.prototype.newSub=function(){return new e(-1,this.exclude)};return e}();var _t=function(){function e(){}Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:false,configurable:true});e.prototype.add=function(e){};e.prototype.merge=function(e){};e.prototype.include=function(e){return true};e.prototype.newSub=function(){return this};e.instance=new e;return e}();var Mt=function(){function e(){this.problems=[];this.propertiesMatches=0;this.propertiesValueMatches=0;this.primaryValueMatches=0;this.enumValueMatch=false;this.enumValues=undefined}e.prototype.hasProblems=function(){return!!this.problems.length};e.prototype.mergeAll=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.merge(n)}};e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)};e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,r=this.problems;t<r.length;t++){var n=r[t];if(n.code===ht.EnumValueMismatch){n.message=bt("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map(function(e){return JSON.stringify(e)}).join(", "))}}}};e.prototype.mergePropertyMatch=function(e){this.merge(e);this.propertiesMatches++;if(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches){this.propertiesValueMatches++}if(e.enumValueMatch&&e.enumValues&&e.enumValues.length===1){this.primaryValueMatches++}};e.prototype.compare=function(e){var t=this.hasProblems();if(t!==e.hasProblems()){return t?-1:1}if(this.enumValueMatch!==e.enumValueMatch){return e.enumValueMatch?-1:1}if(this.primaryValueMatches!==e.primaryValueMatches){return this.primaryValueMatches-e.primaryValueMatches}if(this.propertiesValueMatches!==e.propertiesValueMatches){return this.propertiesValueMatches-e.propertiesValueMatches}return this.propertiesMatches-e.propertiesMatches};return e}();function Nt(e,t){if(t===void 0){t=[]}return new Lt(e,t,[])}function Vt(e){return D(e)}function Ft(e){return L(e)}function Rt(e,t,r){if(r===void 0){r=false}return t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}var Lt=function(){function e(e,t,r){if(t===void 0){t=[]}if(r===void 0){r=[]}this.root=e;this.syntaxErrors=t;this.comments=r}e.prototype.getNodeFromOffset=function(e,t){if(t===void 0){t=false}if(this.root){return R(this.root,e,t)}return undefined};e.prototype.visit=function(e){if(this.root){var t=function(r){var n=e(r);var i=r.children;if(Array.isArray(i)){for(var a=0;a<i.length&&n;a++){n=t(i[a])}}return n};t(this.root)}};e.prototype.validate=function(e,t,r){if(r===void 0){r=fe.Warning}if(this.root&&t){var n=new Mt;Dt(this.root,t,n,_t.instance);return n.problems.map(function(t){var n;var i=ee.create(e.positionAt(t.location.offset),e.positionAt(t.location.offset+t.location.length));return he.create(i,t.message,(n=t.severity)!==null&&n!==void 0?n:r,t.code)})}return undefined};e.prototype.getMatchingSchemas=function(e,t,r){if(t===void 0){t=-1}var n=new Pt(t,r);if(this.root&&e){Dt(this.root,e,new Mt,n)}return n.schemas};return e}();function Dt(e,t,r,n){if(!e||!n.include(e)){return}var i=e;switch(i.type){case"object":f(i,t,r,n);break;case"array":u(i,t,r,n);break;case"string":s(i,t,r,n);break;case"number":o(i,t,r,n);break;case"property":return Dt(i.valueNode,t,r,n)}a();n.add({node:i,schema:t});function a(){function e(e){return i.type===e||e==="integer"&&i.type==="number"&&i.isInteger}if(Array.isArray(t.type)){if(!t.type.some(e)){r.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||bt("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))})}}else if(t.type){if(!e(t.type)){r.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||bt("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)})}}if(Array.isArray(t.allOf)){for(var a=0,o=t.allOf;a<o.length;a++){var s=o[a];Dt(i,It(s),r,n)}}var u=It(t.not);if(u){var f=new Mt;var c=n.newSub();Dt(i,u,f,c);if(!f.hasProblems()){r.problems.push({location:{offset:i.offset,length:i.length},message:bt("notSchemaWarning","Matches a schema that is not allowed.")})}for(var l=0,h=c.schemas;l<h.length;l++){var d=h[l];d.inverted=!d.inverted;n.add(d)}}var p=function(e,t){var a=[];var o=undefined;for(var s=0,u=e;s<u.length;s++){var f=u[s];var c=It(f);var l=new Mt;var h=n.newSub();Dt(i,c,l,h);if(!l.hasProblems()){a.push(c)}if(!o){o={schema:c,validationResult:l,matchingSchemas:h}}else{if(!t&&!l.hasProblems()&&!o.validationResult.hasProblems()){o.matchingSchemas.merge(h);o.validationResult.propertiesMatches+=l.propertiesMatches;o.validationResult.propertiesValueMatches+=l.propertiesValueMatches}else{var d=l.compare(o.validationResult);if(d>0){o={schema:c,validationResult:l,matchingSchemas:h}}else if(d===0){o.matchingSchemas.merge(h);o.validationResult.mergeEnumValues(l)}}}}if(a.length>1&&t){r.problems.push({location:{offset:i.offset,length:1},message:bt("oneOfWarning","Matches multiple schemas when only one must validate.")})}if(o){r.merge(o.validationResult);r.propertiesMatches+=o.validationResult.propertiesMatches;r.propertiesValueMatches+=o.validationResult.propertiesValueMatches;n.merge(o.matchingSchemas)}return a.length};if(Array.isArray(t.anyOf)){p(t.anyOf,false)}if(Array.isArray(t.oneOf)){p(t.oneOf,true)}var g=function(e){var t=new Mt;var a=n.newSub();Dt(i,It(e),t,a);r.merge(t);r.propertiesMatches+=t.propertiesMatches;r.propertiesValueMatches+=t.propertiesValueMatches;n.merge(a)};var m=function(e,t,r){var a=It(e);var o=new Mt;var s=n.newSub();Dt(i,a,o,s);n.merge(s);if(!o.hasProblems()){if(t){g(t)}}else if(r){g(r)}};var v=It(t.if);if(v){m(v,It(t.then),It(t.else))}if(Array.isArray(t.enum)){var y=Vt(i);var b=false;for(var x=0,k=t.enum;x<k.length;x++){var w=k[x];if(J(y,w)){b=true;break}}r.enumValues=t.enum;r.enumValueMatch=b;if(!b){r.problems.push({location:{offset:i.offset,length:i.length},code:ht.EnumValueMismatch,message:t.errorMessage||bt("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(function(e){return JSON.stringify(e)}).join(", "))})}}if(H(t.const)){var y=Vt(i);if(!J(y,t.const)){r.problems.push({location:{offset:i.offset,length:i.length},code:ht.EnumValueMismatch,message:t.errorMessage||bt("constWarning","Value must be {0}.",JSON.stringify(t.const))});r.enumValueMatch=false}else{r.enumValueMatch=true}r.enumValues=[t.const]}if(t.deprecationMessage&&i.parent){r.problems.push({location:{offset:i.parent.offset,length:i.parent.length},severity:fe.Warning,message:t.deprecationMessage,code:ht.Deprecated})}}function o(e,t,r,n){var i=e.value;function a(e){var t;var r=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(e.toString());return r&&{value:Number(r[1]+(r[2]||"")),multiplier:(((t=r[2])===null||t===void 0?void 0:t.length)||0)-(parseInt(r[3])||0)}}if(z(t.multipleOf)){var o=-1;if(Number.isInteger(t.multipleOf)){o=i%t.multipleOf}else{var s=a(t.multipleOf);var u=a(i);if(s&&u){var f=Math.pow(10,Math.abs(u.multiplier-s.multiplier));if(u.multiplier<s.multiplier){u.value*=f}else{s.value*=f}o=u.value%s.value}}if(o!==0){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)})}}function c(e,t){if(z(t)){return t}if(G(t)&&t){return e}return undefined}function l(e,t){if(!G(t)||!t){return e}return undefined}var h=c(t.minimum,t.exclusiveMinimum);if(z(h)&&i<=h){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",h)})}var d=c(t.maximum,t.exclusiveMaximum);if(z(d)&&i>=d){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",d)})}var p=l(t.minimum,t.exclusiveMinimum);if(z(p)&&i<p){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("minimumWarning","Value is below the minimum of {0}.",p)})}var g=l(t.maximum,t.exclusiveMaximum);if(z(g)&&i>g){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("maximumWarning","Value is above the maximum of {0}.",g)})}}function s(e,t,r,n){if(z(t.minLength)&&e.value.length<t.minLength){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)})}if(z(t.maxLength)&&e.value.length>t.maxLength){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)})}if(X(t.pattern)){var i=new RegExp(t.pattern);if(!i.test(e.value)){r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||bt("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}}if(t.format){switch(t.format){case"uri":case"uri-reference":{var a=void 0;if(!e.value){a=bt("uriEmpty","URI expected.")}else{var o=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(e.value);if(!o){a=bt("uriMissing","URI is expected.")}else if(!o[2]&&t.format==="uri"){a=bt("uriSchemeMissing","URI with a scheme is expected.")}}if(a){r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||bt("uriFormatWarning","String is not a URI: {0}",a)})}}break;case"color-hex":case"date-time":case"date":case"time":case"email":var s=xt[t.format];if(!e.value||!s.pattern.exec(e.value)){r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||s.errorMessage})}default:}}}function u(e,t,r,n){if(Array.isArray(t.items)){var i=t.items;for(var a=0;a<i.length;a++){var o=i[a];var s=It(o);var u=new Mt;var f=e.items[a];if(f){Dt(f,s,u,n);r.mergePropertyMatch(u)}else if(e.items.length>=i.length){r.propertiesValueMatches++}}if(e.items.length>i.length){if(typeof t.additionalItems==="object"){for(var c=i.length;c<e.items.length;c++){var u=new Mt;Dt(e.items[c],t.additionalItems,u,n);r.mergePropertyMatch(u)}}else if(t.additionalItems===false){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",i.length)})}}}else{var l=It(t.items);if(l){for(var h=0,d=e.items;h<d.length;h++){var f=d[h];var u=new Mt;Dt(f,l,u,n);r.mergePropertyMatch(u)}}}var p=It(t.contains);if(p){var g=e.items.some(function(e){var t=new Mt;Dt(e,p,t,_t.instance);return!t.hasProblems()});if(!g){r.problems.push({location:{offset:e.offset,length:e.length},message:t.errorMessage||bt("requiredItemMissingWarning","Array does not contain required item.")})}}if(z(t.minItems)&&e.items.length<t.minItems){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)})}if(z(t.maxItems)&&e.items.length>t.maxItems){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)})}if(t.uniqueItems===true){var m=Vt(e);var v=m.some(function(e,t){return t!==m.lastIndexOf(e)});if(v){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("uniqueItemsWarning","Array has duplicate items.")})}}}function f(e,t,r,n){var i=Object.create(null);var a=[];for(var o=0,s=e.properties;o<s.length;o++){var u=s[o];var f=u.keyNode.value;i[f]=u.valueNode;a.push(f)}if(Array.isArray(t.required)){for(var c=0,l=t.required;c<l.length;c++){var h=l[c];if(!i[h]){var d=e.parent&&e.parent.type==="property"&&e.parent.keyNode;var p=d?{offset:d.offset,length:d.length}:{offset:e.offset,length:1};r.problems.push({location:p,message:bt("MissingRequiredPropWarning",'Missing property "{0}".',h)})}}}var g=function(e){var t=a.indexOf(e);while(t>=0){a.splice(t,1);t=a.indexOf(e)}};if(t.properties){for(var m=0,v=Object.keys(t.properties);m<v.length;m++){var h=v[m];g(h);var y=t.properties[h];var b=i[h];if(b){if(G(y)){if(!y){var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},message:t.errorMessage||bt("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}else{r.propertiesMatches++;r.propertiesValueMatches++}}else{var x=new Mt;Dt(b,y,x,n);r.mergePropertyMatch(x)}}}}if(t.patternProperties){for(var k=0,w=Object.keys(t.patternProperties);k<w.length;k++){var A=w[k];var C=new RegExp(A);for(var S=0,T=a.slice(0);S<T.length;S++){var h=T[S];if(C.test(h)){g(h);var b=i[h];if(b){var y=t.patternProperties[A];if(G(y)){if(!y){var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},message:t.errorMessage||bt("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}else{r.propertiesMatches++;r.propertiesValueMatches++}}else{var x=new Mt;Dt(b,y,x,n);r.mergePropertyMatch(x)}}}}}}if(typeof t.additionalProperties==="object"){for(var E=0,O=a;E<O.length;E++){var h=O[E];var b=i[h];if(b){var x=new Mt;Dt(b,t.additionalProperties,x,n);r.mergePropertyMatch(x)}}}else if(t.additionalProperties===false){if(a.length>0){for(var I=0,j=a;I<j.length;I++){var h=j[I];var b=i[h];if(b){var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},message:t.errorMessage||bt("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}}}}if(z(t.maxProperties)){if(e.properties.length>t.maxProperties){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)})}}if(z(t.minProperties)){if(e.properties.length<t.minProperties){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)})}}if(t.dependencies){for(var P=0,_=Object.keys(t.dependencies);P<_.length;P++){var f=_[P];var M=i[f];if(M){var N=t.dependencies[f];if(Array.isArray(N)){for(var V=0,F=N;V<F.length;V++){var R=F[V];if(!i[R]){r.problems.push({location:{offset:e.offset,length:e.length},message:bt("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",R,f)})}else{r.propertiesValueMatches++}}}else{var y=It(N);if(y){var x=new Mt;Dt(e,y,x,n);r.mergePropertyMatch(x)}}}}}var L=It(t.propertyNames);if(L){for(var D=0,$=e.properties;D<$.length;D++){var U=$[D];var f=U.keyNode;if(f){Dt(f,L,r,_t.instance)}}}}}function $t(e,t){var r=[];var n=-1;var i=e.getText();var a=_(i,false);var o=t&&t.collectComments?[]:undefined;function s(){while(true){var t=a.scan();l();switch(t){case 12:case 13:if(Array.isArray(o)){o.push(ee.create(e.positionAt(a.getTokenOffset()),e.positionAt(a.getTokenOffset()+a.getTokenLength())))}break;case 15:case 14:break;default:return t}}}function u(e){if(a.getToken()===e){s();return true}return false}function f(t,i,a,o,s){if(s===void 0){s=fe.Error}if(r.length===0||a!==n){var u=ee.create(e.positionAt(a),e.positionAt(o));r.push(he.create(u,t,s,i,e.languageId));n=a}}function c(e,t,r,n,o){if(r===void 0){r=undefined}if(n===void 0){n=[]}if(o===void 0){o=[]}var u=a.getTokenOffset();var c=a.getTokenOffset()+a.getTokenLength();if(u===c&&u>0){u--;while(u>0&&/\s/.test(i.charAt(u))){u--}c=u+1}f(e,t,u,c);if(r){h(r,false)}if(n.length+o.length>0){var l=a.getToken();while(l!==17){if(n.indexOf(l)!==-1){s();break}else if(o.indexOf(l)!==-1){break}l=s()}}return r}function l(){switch(a.getTokenError()){case 4:c(bt("InvalidUnicode","Invalid unicode sequence in string."),ht.InvalidUnicode);return true;case 5:c(bt("InvalidEscapeCharacter","Invalid escape character in string."),ht.InvalidEscapeCharacter);return true;case 3:c(bt("UnexpectedEndOfNumber","Unexpected end of number."),ht.UnexpectedEndOfNumber);return true;case 1:c(bt("UnexpectedEndOfComment","Unexpected end of comment."),ht.UnexpectedEndOfComment);return true;case 2:c(bt("UnexpectedEndOfString","Unexpected end of string."),ht.UnexpectedEndOfString);return true;case 6:c(bt("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),ht.InvalidCharacter);return true}return false}function h(e,t){e.length=a.getTokenOffset()+a.getTokenLength()-e.offset;if(t){s()}return e}function d(e){if(a.getToken()!==3){return undefined}var t=new Ct(e,a.getTokenOffset());s();var r=0;var n=false;while(a.getToken()!==4&&a.getToken()!==17){if(a.getToken()===5){if(!n){c(bt("ValueExpected","Value expected"),ht.ValueExpected)}var i=a.getTokenOffset();s();if(a.getToken()===4){if(n){f(bt("TrailingComma","Trailing comma"),ht.TrailingComma,i,i+1)}continue}}else if(n){c(bt("ExpectedComma","Expected comma"),ht.CommaExpected)}var o=x(t);if(!o){c(bt("PropertyExpected","Value expected"),ht.ValueExpected,undefined,[],[4,5])}else{t.items.push(o)}n=true}if(a.getToken()!==4){return c(bt("ExpectedCloseBracket","Expected comma or closing bracket"),ht.CommaOrCloseBacketExpected,t)}return h(t,true)}var p=new Tt(undefined,0,0);function g(t,r){var n=new Et(t,a.getTokenOffset(),p);var i=v(n);if(!i){if(a.getToken()===16){c(bt("DoubleQuotesExpected","Property keys must be doublequoted"),ht.Undefined);var o=new Tt(n,a.getTokenOffset(),a.getTokenLength());o.value=a.getTokenValue();i=o;s()}else{return undefined}}n.keyNode=i;var u=r[i.value];if(u){f(bt("DuplicateKeyWarning","Duplicate object key"),ht.DuplicateKey,n.keyNode.offset,n.keyNode.offset+n.keyNode.length,fe.Warning);if(typeof u==="object"){f(bt("DuplicateKeyWarning","Duplicate object key"),ht.DuplicateKey,u.keyNode.offset,u.keyNode.offset+u.keyNode.length,fe.Warning)}r[i.value]=true}else{r[i.value]=n}if(a.getToken()===6){n.colonOffset=a.getTokenOffset();s()}else{c(bt("ColonExpected","Colon expected"),ht.ColonExpected);if(a.getToken()===10&&e.positionAt(i.offset+i.length).line<e.positionAt(a.getTokenOffset()).line){n.length=i.length;return n}}var l=x(n);if(!l){return c(bt("ValueExpected","Value expected"),ht.ValueExpected,n,[],[2,5])}n.valueNode=l;n.length=l.offset+l.length-n.offset;return n}function m(e){if(a.getToken()!==1){return undefined}var t=new Ot(e,a.getTokenOffset());var r=Object.create(null);s();var n=false;while(a.getToken()!==2&&a.getToken()!==17){if(a.getToken()===5){if(!n){c(bt("PropertyExpected","Property expected"),ht.PropertyExpected)}var i=a.getTokenOffset();s();if(a.getToken()===2){if(n){f(bt("TrailingComma","Trailing comma"),ht.TrailingComma,i,i+1)}continue}}else if(n){c(bt("ExpectedComma","Expected comma"),ht.CommaExpected)}var o=g(t,r);if(!o){c(bt("PropertyExpected","Property expected"),ht.PropertyExpected,undefined,[],[2,5])}else{t.properties.push(o)}n=true}if(a.getToken()!==2){return c(bt("ExpectedCloseBrace","Expected comma or closing brace"),ht.CommaOrCloseBraceExpected,t)}return h(t,true)}function v(e){if(a.getToken()!==10){return undefined}var t=new Tt(e,a.getTokenOffset());t.value=a.getTokenValue();return h(t,true)}function y(e){if(a.getToken()!==11){return undefined}var t=new St(e,a.getTokenOffset());if(a.getTokenError()===0){var r=a.getTokenValue();try{var n=JSON.parse(r);if(!z(n)){return c(bt("InvalidNumberFormat","Invalid number format."),ht.Undefined,t)}t.value=n}catch(e){return c(bt("InvalidNumberFormat","Invalid number format."),ht.Undefined,t)}t.isInteger=r.indexOf(".")===-1}return h(t,true)}function b(e){var t;switch(a.getToken()){case 7:return h(new wt(e,a.getTokenOffset()),true);case 8:return h(new At(e,true,a.getTokenOffset()),true);case 9:return h(new At(e,false,a.getTokenOffset()),true);default:return undefined}}function x(e){return d(e)||m(e)||v(e)||y(e)||b(e)}var k=undefined;var w=s();if(w!==17){k=x(k);if(!k){c(bt("Invalid symbol","Expected a JSON object, array or literal."),ht.Undefined)}else if(a.getToken()!==17){c(bt("End of file expected","End of file expected."),ht.Undefined)}}return new Lt(k,r,o)}function Ut(e,t,r){if(e!==null&&typeof e==="object"){var n=t+"\t";if(Array.isArray(e)){if(e.length===0){return"[]"}var i="[\n";for(var a=0;a<e.length;a++){i+=n+Ut(e[a],n,r);if(a<e.length-1){i+=","}i+="\n"}i+=t+"]";return i}else{var o=Object.keys(e);if(o.length===0){return"{}"}var i="{\n";for(var a=0;a<o.length;a++){var s=o[a];i+=n+JSON.stringify(s)+": "+Ut(e[s],n,r);if(a<o.length-1){i+=","}i+="\n"}i+=t+"}";return i}}return r(e)}function Wt(e,t){if(e.length<t.length){return false}for(var r=0;r<t.length;r++){if(e[r]!==t[r]){return false}}return true}function qt(e,t){var r=e.length-t.length;if(r>0){return e.lastIndexOf(t)===r}else if(r===0){return e===t}else{return false}}function Bt(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Kt(e,t){var r="";while(t>0){if((t&1)===1){r+=e}e+=e;t=t>>>1}return r}var Jt=mt();var zt=[",","}","]"];var Ht=[":"];var Gt=function(){function e(e,t,r,n){if(t===void 0){t=[]}if(r===void 0){r=Promise}if(n===void 0){n={}}this.schemaService=e;this.contributions=t;this.promiseConstructor=r;this.clientCapabilities=n}e.prototype.doResolve=function(e){for(var t=this.contributions.length-1;t>=0;t--){var r=this.contributions[t].resolveCompletion;if(r){var n=r(e);if(n){return n}}}return this.promiseConstructor.resolve(e)};e.prototype.doComplete=function(e,t,r){var n=this;var i={items:[],isIncomplete:false};var a=e.getText();var o=e.offsetAt(t);var s=r.getNodeFromOffset(o,true);if(this.isInComment(e,s?s.offset:0,o)){return Promise.resolve(i)}if(s&&o===s.offset+s.length&&o>0){var u=a[o-1];if(s.type==="object"&&u==="}"||s.type==="array"&&u==="]"){s=s.parent}}var f=this.getCurrentWord(e,o);var c;if(s&&(s.type==="string"||s.type==="number"||s.type==="boolean"||s.type==="null")){c=ee.create(e.positionAt(s.offset),e.positionAt(s.offset+s.length))}else{var l=o-f.length;if(l>0&&a[l-1]==='"'){l--}c=ee.create(e.positionAt(l),t)}var h=false;var d={};var p={add:function(e){var t=e.label;var r=d[t];if(!r){t=t.replace(/[\n]/g,"");if(t.length>60){var n=t.substr(0,57).trim()+"...";if(!d[n]){t=n}}if(c&&e.insertText!==undefined){e.textEdit=pe.replace(c,e.insertText)}if(h){e.commitCharacters=e.kind===_e.Property?Ht:zt}e.label=t;d[t]=e;i.items.push(e)}else{if(!r.documentation){r.documentation=e.documentation}if(!r.detail){r.detail=e.detail}}},setAsIncomplete:function(){i.isIncomplete=true},error:function(e){console.error(e)},log:function(e){console.log(e)},getNumberOfProposals:function(){return i.items.length}};return this.schemaService.getSchemaForResource(e.uri,r).then(function(t){var u=[];var l=true;var h="";var g=undefined;if(s){if(s.type==="string"){var m=s.parent;if(m&&m.type==="property"&&m.keyNode===s){l=!m.valueNode;g=m;h=a.substr(s.offset+1,s.length-2);if(m){s=m.parent}}}}if(s&&s.type==="object"){if(s.offset===o){return i}var v=s.properties;v.forEach(function(e){if(!g||g!==e){d[e.keyNode.value]=Re.create("__")}});var y="";if(l){y=n.evaluateSeparatorAfter(e,e.offsetAt(c.end))}if(t){n.getPropertyCompletions(t,r,s,l,y,p)}else{n.getSchemaLessPropertyCompletions(r,s,h,p)}var b=Ft(s);n.contributions.forEach(function(t){var r=t.collectPropertyCompletions(e.uri,b,f,l,y==="",p);if(r){u.push(r)}});if(!t&&f.length>0&&a.charAt(o-f.length-1)!=='"'){p.add({kind:_e.Property,label:n.getLabelForValue(f),insertText:n.getInsertTextForProperty(f,undefined,false,y),insertTextFormat:Me.Snippet,documentation:""});p.setAsIncomplete()}}var x={};if(t){n.getValueCompletions(t,r,s,o,e,p,x)}else{n.getSchemaLessValueCompletions(r,s,o,e,p)}if(n.contributions.length>0){n.getContributedValueCompletions(r,s,o,e,p,u)}return n.promiseConstructor.all(u).then(function(){if(p.getNumberOfProposals()===0){var t=o;if(s&&(s.type==="string"||s.type==="number"||s.type==="boolean"||s.type==="null")){t=s.offset+s.length}var r=n.evaluateSeparatorAfter(e,t);n.addFillerValueCompletions(x,r,p)}return i})})};e.prototype.getPropertyCompletions=function(e,t,r,n,i,a){var o=this;var s=t.getMatchingSchemas(e.schema,r.offset);s.forEach(function(e){if(e.node===r&&!e.inverted){var t=e.schema.properties;if(t){Object.keys(t).forEach(function(e){var r=t[e];if(typeof r==="object"&&!r.deprecationMessage&&!r.doNotSuggest){var s={kind:_e.Property,label:e,insertText:o.getInsertTextForProperty(e,r,n,i),insertTextFormat:Me.Snippet,filterText:o.getFilterTextForValue(e),documentation:o.fromMarkup(r.markdownDescription)||r.description||""};if(r.suggestSortText!==undefined){s.sortText=r.suggestSortText}if(s.insertText&&qt(s.insertText,"$1"+i)){s.command={title:"Suggest",command:"editor.action.triggerSuggest"}}a.add(s)}})}var s=e.schema.propertyNames;if(typeof s==="object"&&!s.deprecationMessage&&!s.doNotSuggest){var u=function(e,t){if(t===void 0){t=undefined}var r={kind:_e.Property,label:e,insertText:o.getInsertTextForProperty(e,undefined,n,i),insertTextFormat:Me.Snippet,filterText:o.getFilterTextForValue(e),documentation:t||o.fromMarkup(s.markdownDescription)||s.description||""};if(s.suggestSortText!==undefined){r.sortText=s.suggestSortText}if(r.insertText&&qt(r.insertText,"$1"+i)){r.command={title:"Suggest",command:"editor.action.triggerSuggest"}}a.add(r)};if(s.enum){for(var f=0;f<s.enum.length;f++){var c=undefined;if(s.markdownEnumDescriptions&&f<s.markdownEnumDescriptions.length){c=o.fromMarkup(s.markdownEnumDescriptions[f])}else if(s.enumDescriptions&&f<s.enumDescriptions.length){c=s.enumDescriptions[f]}u(s.enum[f],c)}}if(s.const){u(s.const)}}}})};e.prototype.getSchemaLessPropertyCompletions=function(e,t,r,n){var i=this;var a=function(e){e.properties.forEach(function(e){var t=e.keyNode.value;n.add({kind:_e.Property,label:t,insertText:i.getInsertTextForValue(t,""),insertTextFormat:Me.Snippet,filterText:i.getFilterTextForValue(t),documentation:""})})};if(t.parent){if(t.parent.type==="property"){var o=t.parent.keyNode.value;e.visit(function(e){if(e.type==="property"&&e!==t.parent&&e.keyNode.value===o&&e.valueNode&&e.valueNode.type==="object"){a(e.valueNode)}return true})}else if(t.parent.type==="array"){t.parent.items.forEach(function(e){if(e.type==="object"&&e!==t){a(e)}})}}else if(t.type==="object"){n.add({kind:_e.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",undefined,true,""),insertTextFormat:Me.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}};e.prototype.getSchemaLessValueCompletions=function(e,t,r,n,i){var a=this;var o=r;if(t&&(t.type==="string"||t.type==="number"||t.type==="boolean"||t.type==="null")){o=t.offset+t.length;t=t.parent}if(!t){i.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:Me.Snippet,documentation:""});i.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:Me.Snippet,documentation:""});return}var s=this.evaluateSeparatorAfter(n,o);var u=function(e){if(e.parent&&!Rt(e.parent,r,true)){i.add({kind:a.getSuggestionKind(e.type),label:a.getLabelTextForMatchingNode(e,n),insertText:a.getInsertTextForMatchingNode(e,n,s),insertTextFormat:Me.Snippet,documentation:""})}if(e.type==="boolean"){a.addBooleanValueCompletion(!e.value,s,i)}};if(t.type==="property"){if(r>(t.colonOffset||0)){var f=t.valueNode;if(f&&(r>f.offset+f.length||f.type==="object"||f.type==="array")){return}var c=t.keyNode.value;e.visit(function(e){if(e.type==="property"&&e.keyNode.value===c&&e.valueNode){u(e.valueNode)}return true});if(c==="$schema"&&t.parent&&!t.parent.parent){this.addDollarSchemaCompletions(s,i)}}}if(t.type==="array"){if(t.parent&&t.parent.type==="property"){var l=t.parent.keyNode.value;e.visit(function(e){if(e.type==="property"&&e.keyNode.value===l&&e.valueNode&&e.valueNode.type==="array"){e.valueNode.items.forEach(u)}return true})}else{t.items.forEach(u)}}};e.prototype.getValueCompletions=function(e,t,r,n,i,a,o){var s=n;var u=undefined;var f=undefined;if(r&&(r.type==="string"||r.type==="number"||r.type==="boolean"||r.type==="null")){s=r.offset+r.length;f=r;r=r.parent}if(!r){this.addSchemaValueCompletions(e.schema,"",a,o);return}if(r.type==="property"&&n>(r.colonOffset||0)){var c=r.valueNode;if(c&&n>c.offset+c.length){return}u=r.keyNode.value;r=r.parent}if(r&&(u!==undefined||r.type==="array")){var l=this.evaluateSeparatorAfter(i,s);var h=t.getMatchingSchemas(e.schema,r.offset,f);for(var d=0,p=h;d<p.length;d++){var g=p[d];if(g.node===r&&!g.inverted&&g.schema){if(r.type==="array"&&g.schema.items){if(Array.isArray(g.schema.items)){var m=this.findItemAtOffset(r,i,n);if(m<g.schema.items.length){this.addSchemaValueCompletions(g.schema.items[m],l,a,o)}}else{this.addSchemaValueCompletions(g.schema.items,l,a,o)}}if(u!==undefined){var v=false;if(g.schema.properties){var y=g.schema.properties[u];if(y){v=true;this.addSchemaValueCompletions(y,l,a,o)}}if(g.schema.patternProperties&&!v){for(var b=0,x=Object.keys(g.schema.patternProperties);b<x.length;b++){var k=x[b];var w=new RegExp(k);if(w.test(u)){v=true;var y=g.schema.patternProperties[k];this.addSchemaValueCompletions(y,l,a,o)}}}if(g.schema.additionalProperties&&!v){var y=g.schema.additionalProperties;this.addSchemaValueCompletions(y,l,a,o)}}}}if(u==="$schema"&&!r.parent){this.addDollarSchemaCompletions(l,a)}if(o["boolean"]){this.addBooleanValueCompletion(true,l,a);this.addBooleanValueCompletion(false,l,a)}if(o["null"]){this.addNullValueCompletion(l,a)}}};e.prototype.getContributedValueCompletions=function(e,t,r,n,i,a){if(!t){this.contributions.forEach(function(e){var t=e.collectDefaultCompletions(n.uri,i);if(t){a.push(t)}})}else{if(t.type==="string"||t.type==="number"||t.type==="boolean"||t.type==="null"){t=t.parent}if(t&&t.type==="property"&&r>(t.colonOffset||0)){var o=t.keyNode.value;var s=t.valueNode;if((!s||r<=s.offset+s.length)&&t.parent){var u=Ft(t.parent);this.contributions.forEach(function(e){var t=e.collectValueCompletions(n.uri,u,o,i);if(t){a.push(t)}})}}}};e.prototype.addSchemaValueCompletions=function(e,t,r,n){var i=this;if(typeof e==="object"){this.addEnumValueCompletions(e,t,r);this.addDefaultValueCompletions(e,t,r);this.collectTypes(e,n);if(Array.isArray(e.allOf)){e.allOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)})}if(Array.isArray(e.anyOf)){e.anyOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)})}if(Array.isArray(e.oneOf)){e.oneOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)})}}};e.prototype.addDefaultValueCompletions=function(e,t,r,n){var i=this;if(n===void 0){n=0}var a=false;if(H(e.default)){var o=e.type;var s=e.default;for(var u=n;u>0;u--){s=[s];o="array"}r.add({kind:this.getSuggestionKind(o),label:this.getLabelForValue(s),insertText:this.getInsertTextForValue(s,t),insertTextFormat:Me.Snippet,detail:Jt("json.suggest.default","Default value")});a=true}if(Array.isArray(e.examples)){e.examples.forEach(function(o){var s=e.type;var u=o;for(var f=n;f>0;f--){u=[u];s="array"}r.add({kind:i.getSuggestionKind(s),label:i.getLabelForValue(u),insertText:i.getInsertTextForValue(u,t),insertTextFormat:Me.Snippet});a=true})}if(Array.isArray(e.defaultSnippets)){e.defaultSnippets.forEach(function(o){var s=e.type;var u=o.body;var f=o.label;var c;var l;if(H(u)){var h=e.type;for(var d=n;d>0;d--){u=[u];h="array"}c=i.getInsertTextForSnippetValue(u,t);l=i.getFilterTextForSnippetValue(u);f=f||i.getLabelForSnippetValue(u)}else if(typeof o.bodyText==="string"){var p="",g="",m="";for(var d=n;d>0;d--){p=p+m+"[\n";g=g+"\n"+m+"]";m+="\t";s="array"}c=p+m+o.bodyText.split("\n").join("\n"+m)+g+t;f=f||c,l=c.replace(/[\n]/g,"")}else{return}r.add({kind:i.getSuggestionKind(s),label:f,documentation:i.fromMarkup(o.markdownDescription)||o.description,insertText:c,insertTextFormat:Me.Snippet,filterText:l});a=true})}if(!a&&typeof e.items==="object"&&!Array.isArray(e.items)&&n<5){this.addDefaultValueCompletions(e.items,t,r,n+1)}};e.prototype.addEnumValueCompletions=function(e,t,r){if(H(e.const)){r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,t),insertTextFormat:Me.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description})}if(Array.isArray(e.enum)){for(var n=0,i=e.enum.length;n<i;n++){var a=e.enum[n];var o=this.fromMarkup(e.markdownDescription)||e.description;if(e.markdownEnumDescriptions&&n<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()){o=this.fromMarkup(e.markdownEnumDescriptions[n])}else if(e.enumDescriptions&&n<e.enumDescriptions.length){o=e.enumDescriptions[n]}r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,t),insertTextFormat:Me.Snippet,documentation:o})}}};e.prototype.collectTypes=function(e,t){if(Array.isArray(e.enum)||H(e.const)){return}var r=e.type;if(Array.isArray(r)){r.forEach(function(e){return t[e]=true})}else if(r){t[r]=true}};e.prototype.addFillerValueCompletions=function(e,t,r){if(e["object"]){r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},t),insertTextFormat:Me.Snippet,detail:Jt("defaults.object","New object"),documentation:""})}if(e["array"]){r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],t),insertTextFormat:Me.Snippet,detail:Jt("defaults.array","New array"),documentation:""})}};e.prototype.addBooleanValueCompletion=function(e,t,r){r.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t),insertTextFormat:Me.Snippet,documentation:""})};e.prototype.addNullValueCompletion=function(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:Me.Snippet,documentation:""})};e.prototype.addDollarSchemaCompletions=function(e,t){var r=this;var n=this.schemaService.getRegisteredSchemaIds(function(e){return e==="http"||e==="https"});n.forEach(function(n){return t.add({kind:_e.Module,label:r.getLabelForValue(n),filterText:r.getFilterTextForValue(n),insertText:r.getInsertTextForValue(n,e),insertTextFormat:Me.Snippet,documentation:""})})};e.prototype.getLabelForValue=function(e){return JSON.stringify(e)};e.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)};e.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")};e.prototype.getLabelForSnippetValue=function(e){var t=JSON.stringify(e);return t.replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")};e.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")};e.prototype.getInsertTextForValue=function(e,t){var r=JSON.stringify(e,null,"\t");if(r==="{}"){return"{$1}"+t}else if(r==="[]"){return"[$1]"+t}return this.getInsertTextForPlainText(r+t)};e.prototype.getInsertTextForSnippetValue=function(e,t){var r=function(e){if(typeof e==="string"){if(e[0]==="^"){return e.substr(1)}}return JSON.stringify(e)};return Ut(e,"",r)+t};e.prototype.getInsertTextForGuessedValue=function(e,t){switch(typeof e){case"object":if(e===null){return"${1:null}"+t}return this.getInsertTextForValue(e,t);case"string":var r=JSON.stringify(e);r=r.substr(1,r.length-2);r=this.getInsertTextForPlainText(r);return'"${1:'+r+'}"'+t;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+t}return this.getInsertTextForValue(e,t)};e.prototype.getSuggestionKind=function(e){if(Array.isArray(e)){var t=e;e=t.length>0?t[0]:undefined}if(!e){return _e.Value}switch(e){case"string":return _e.Value;case"object":return _e.Module;case"property":return _e.Property;default:return _e.Value}};e.prototype.getLabelTextForMatchingNode=function(e,t){switch(e.type){case"array":return"[]";case"object":return"{}";default:var r=t.getText().substr(e.offset,e.length);return r}};e.prototype.getInsertTextForMatchingNode=function(e,t,r){switch(e.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:var n=t.getText().substr(e.offset,e.length)+r;return this.getInsertTextForPlainText(n)}};e.prototype.getInsertTextForProperty=function(e,t,r,n){var i=this.getInsertTextForValue(e,"");if(!r){return i}var a=i+": ";var o;var s=0;if(t){if(Array.isArray(t.defaultSnippets)){if(t.defaultSnippets.length===1){var u=t.defaultSnippets[0].body;if(H(u)){o=this.getInsertTextForSnippetValue(u,"")}}s+=t.defaultSnippets.length}if(t.enum){if(!o&&t.enum.length===1){o=this.getInsertTextForGuessedValue(t.enum[0],"")}s+=t.enum.length}if(H(t.default)){if(!o){o=this.getInsertTextForGuessedValue(t.default,"")}s++}if(Array.isArray(t.examples)&&t.examples.length){if(!o){o=this.getInsertTextForGuessedValue(t.examples[0],"")}s+=t.examples.length}if(s===0){var f=Array.isArray(t.type)?t.type[0]:t.type;if(!f){if(t.properties){f="object"}else if(t.items){f="array"}}switch(f){case"boolean":o="$1";break;case"string":o='"$1"';break;case"object":o="{$1}";break;case"array":o="[$1]";break;case"number":case"integer":o="${1:0}";break;case"null":o="${1:null}";break;default:return i}}}if(!o||s>1){o="$1"}return a+o+n};e.prototype.getCurrentWord=function(e,t){var r=t-1;var n=e.getText();while(r>=0&&' \t\n\r\v":{[,]}'.indexOf(n.charAt(r))===-1){r--}return n.substring(r+1,t)};e.prototype.evaluateSeparatorAfter=function(e,t){var r=_(e.getText(),true);r.setPosition(t);var n=r.scan();switch(n){case 5:case 2:case 4:case 17:return"";default:return","}};e.prototype.findItemAtOffset=function(e,t,r){var n=_(t.getText(),true);var i=e.items;for(var a=i.length-1;a>=0;a--){var o=i[a];if(r>o.offset+o.length){n.setPosition(o.offset+o.length);var s=n.scan();if(s===5&&r>=n.getTokenOffset()+n.getTokenLength()){return a+1}return a}else if(r>=o.offset){return a}}return 0};e.prototype.isInComment=function(e,t,r){var n=_(e.getText(),false);n.setPosition(t);var i=n.scan();while(i!==17&&n.getTokenOffset()+n.getTokenLength()<r){i=n.scan()}return(i===12||i===13)&&n.getTokenOffset()<=r};e.prototype.fromMarkup=function(e){if(e&&this.doesSupportMarkdown()){return{kind:je.Markdown,value:e}}return undefined};e.prototype.doesSupportMarkdown=function(){if(!H(this.supportsMarkdown)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&e.completionItem.documentationFormat.indexOf(je.Markdown)!==-1}return this.supportsMarkdown};e.prototype.doesSupportsCommitCharacters=function(){if(!H(this.supportsCommitCharacters)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=e&&e.completionItem&&!!e.completionItem.commitCharactersSupport}return this.supportsCommitCharacters};return e}();var Xt=function(){function e(e,t,r){if(t===void 0){t=[]}this.schemaService=e;this.contributions=t;this.promise=r||Promise}e.prototype.doHover=function(e,t,r){var n=e.offsetAt(t);var i=r.getNodeFromOffset(n);if(!i||(i.type==="object"||i.type==="array")&&n>i.offset+1&&n<i.offset+i.length-1){return this.promise.resolve(null)}var a=i;if(i.type==="string"){var o=i.parent;if(o&&o.type==="property"&&o.keyNode===i){i=o.valueNode;if(!i){return this.promise.resolve(null)}}}var s=ee.create(e.positionAt(a.offset),e.positionAt(a.offset+a.length));var u=function(e){var t={contents:e,range:s};return t};var f=Ft(i);for(var c=this.contributions.length-1;c>=0;c--){var l=this.contributions[c];var h=l.getInfoContribution(e.uri,f);if(h){return h.then(function(e){return u(e)})}}return this.schemaService.getSchemaForResource(e.uri,r).then(function(e){if(e&&i){var t=r.getMatchingSchemas(e.schema,i.offset);var n=undefined;var a=undefined;var o=undefined,s=undefined;t.every(function(e){if(e.node===i&&!e.inverted&&e.schema){n=n||e.schema.title;a=a||e.schema.markdownDescription||Zt(e.schema.description);if(e.schema.enum){var t=e.schema.enum.indexOf(Vt(i));if(e.schema.markdownEnumDescriptions){o=e.schema.markdownEnumDescriptions[t]}else if(e.schema.enumDescriptions){o=Zt(e.schema.enumDescriptions[t])}if(o){s=e.schema.enum[t];if(typeof s!=="string"){s=JSON.stringify(s)}}}}return true});var f="";if(n){f=Zt(n)}if(a){if(f.length>0){f+="\n\n"}f+=a}if(o){if(f.length>0){f+="\n\n"}f+="`"+Qt(s)+"`: "+o}return u([f])}return null})};return e}();function Zt(e){if(e){var t=e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3");return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}return undefined}function Qt(e){if(e.indexOf("`")!==-1){return"`` "+e+" ``"}return e}var Yt=r(814);var er=mt();var tr=function(){function e(e,t){this.patternRegExps=[];this.isInclude=[];try{for(var r=0,n=e;r<n.length;r++){var i=n[r];var a=i[0]!=="!";if(!a){i=i.substring(1)}this.patternRegExps.push(new RegExp(Bt(i)+"$"));this.isInclude.push(a)}this.uris=t}catch(e){this.patternRegExps.length=0;this.isInclude.length=0;this.uris=[]}}e.prototype.matchesPattern=function(e){var t=false;for(var r=0;r<this.patternRegExps.length;r++){var n=this.patternRegExps[r];if(n.test(e)){t=this.isInclude[r]}}return t};e.prototype.getURIs=function(){return this.uris};return e}();var rr=function(){function e(e,t,r){this.service=e;this.url=t;this.dependencies={};if(r){this.unresolvedSchema=this.service.promise.resolve(new nr(r))}}e.prototype.getUnresolvedSchema=function(){if(!this.unresolvedSchema){this.unresolvedSchema=this.service.loadSchema(this.url)}return this.unresolvedSchema};e.prototype.getResolvedSchema=function(){var e=this;if(!this.resolvedSchema){this.resolvedSchema=this.getUnresolvedSchema().then(function(t){return e.service.resolveSchemaContent(t,e.url,e.dependencies)})}return this.resolvedSchema};e.prototype.clearSchema=function(){this.resolvedSchema=undefined;this.unresolvedSchema=undefined;this.dependencies={}};return e}();var nr=function(){function e(e,t){if(t===void 0){t=[]}this.schema=e;this.errors=t}return e}();var ir=function(){function e(e,t){if(t===void 0){t=[]}this.schema=e;this.errors=t}e.prototype.getSection=function(e){var t=this.getSectionRecursive(e,this.schema);if(t){return It(t)}return undefined};e.prototype.getSectionRecursive=function(e,t){if(!t||typeof t==="boolean"||e.length===0){return t}var r=e.shift();if(t.properties&&typeof t.properties[r]){return this.getSectionRecursive(e,t.properties[r])}else if(t.patternProperties){for(var n=0,i=Object.keys(t.patternProperties);n<i.length;n++){var a=i[n];var o=new RegExp(a);if(o.test(r)){return this.getSectionRecursive(e,t.patternProperties[a])}}}else if(typeof t.additionalProperties==="object"){return this.getSectionRecursive(e,t.additionalProperties)}else if(r.match("[0-9]+")){if(Array.isArray(t.items)){var s=parseInt(r,10);if(!isNaN(s)&&t.items[s]){return this.getSectionRecursive(e,t.items[s])}}else if(t.items){return this.getSectionRecursive(e,t.items)}}return undefined};return e}();var ar=function(){function e(e,t,r){this.contextService=t;this.requestService=e;this.promiseConstructor=r||Promise;this.callOnDispose=[];this.contributionSchemas={};this.contributionAssociations=[];this.schemasById={};this.filePatternAssociations=[];this.registeredSchemasIds={}}e.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter(function(t){var r=Yt["a"].parse(t).scheme;return r!=="schemaservice"&&(!e||e(r))})};Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:false,configurable:true});e.prototype.dispose=function(){while(this.callOnDispose.length>0){this.callOnDispose.pop()()}};e.prototype.onResourceChange=function(e){var t=this;var r=false;e=sr(e);var n=[e];var i=Object.keys(this.schemasById).map(function(e){return t.schemasById[e]});while(n.length){var a=n.pop();for(var o=0;o<i.length;o++){var s=i[o];if(s&&(s.url===a||s.dependencies[a])){if(s.url!==a){n.push(s.url)}s.clearSchema();i[o]=undefined;r=true}}}return r};e.prototype.setSchemaContributions=function(e){if(e.schemas){var t=e.schemas;for(var r in t){var n=sr(r);this.contributionSchemas[n]=this.addSchemaHandle(n,t[r])}}if(Array.isArray(e.schemaAssociations)){var i=e.schemaAssociations;for(var a=0,o=i;a<o.length;a++){var s=o[a];var u=s.uris.map(sr);var f=this.addFilePatternAssociation(s.pattern,u);this.contributionAssociations.push(f)}}};e.prototype.addSchemaHandle=function(e,t){var r=new rr(this,e,t);this.schemasById[e]=r;return r};e.prototype.getOrAddSchemaHandle=function(e,t){return this.schemasById[e]||this.addSchemaHandle(e,t)};e.prototype.addFilePatternAssociation=function(e,t){var r=new tr(e,t);this.filePatternAssociations.push(r);return r};e.prototype.registerExternalSchema=function(e,t,r){var n=sr(e);this.registeredSchemasIds[n]=true;this.cachedSchemaForResource=undefined;if(t){this.addFilePatternAssociation(t,[e])}return r?this.addSchemaHandle(n,r):this.getOrAddSchemaHandle(n)};e.prototype.clearExternalSchemas=function(){this.schemasById={};this.filePatternAssociations=[];this.registeredSchemasIds={};this.cachedSchemaForResource=undefined;for(var e in this.contributionSchemas){this.schemasById[e]=this.contributionSchemas[e];this.registeredSchemasIds[e]=true}for(var t=0,r=this.contributionAssociations;t<r.length;t++){var n=r[t];this.filePatternAssociations.push(n)}};e.prototype.getResolvedSchema=function(e){var t=sr(e);var r=this.schemasById[t];if(r){return r.getResolvedSchema()}return this.promise.resolve(undefined)};e.prototype.loadSchema=function(e){if(!this.requestService){var t=er("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",fr(e));return this.promise.resolve(new nr({},[t]))}return this.requestService(e).then(function(t){if(!t){var r=er("json.schema.nocontent","Unable to load schema from '{0}': No content.",fr(e));return new nr({},[r])}var n={};var i=[];n=N(t,i);var a=i.length?[er("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",fr(e),i[0].offset)]:[];return new nr(n,a)},function(t){var r=t.toString();var n=t.toString().split("Error: ");if(n.length>1){r=n[1]}if(qt(r,".")){r=r.substr(0,r.length-1)}return new nr({},[er("json.schema.nocontent","Unable to load schema from '{0}': {1}.",fr(e),r)])})};e.prototype.resolveSchemaContent=function(e,t,r){var n=this;var i=e.errors.slice(0);var a=e.schema;if(a.$schema){var o=sr(a.$schema);if(o==="http://json-schema.org/draft-03/schema"){return this.promise.resolve(new ir({},[er("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]))}else if(o==="https://json-schema.org/draft/2019-09/schema"){i.push(er("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}}var s=this.contextService;var u=function(e,t){if(!t){return e}var r=e;if(t[0]==="/"){t=t.substr(1)}t.split("/").some(function(e){r=r[e];return!r});return r};var f=function(e,t,r,n){var a=n?decodeURIComponent(n):undefined;var o=u(t,a);if(o){for(var s in o){if(o.hasOwnProperty(s)&&!e.hasOwnProperty(s)){e[s]=o[s]}}}else{i.push(er("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",a,r))}};var c=function(e,t,r,a,o){if(s&&!/^\w+:\/\/.*/.test(t)){t=s.resolveRelativePath(t,a)}t=sr(t);var u=n.getOrAddSchemaHandle(t);return u.getUnresolvedSchema().then(function(n){o[t]=true;if(n.errors.length){var a=r?t+"#"+r:t;i.push(er("json.schema.problemloadingref","Problems loading reference '{0}': {1}",a,n.errors[0]))}f(e,n.schema,t,r);return l(e,n.schema,t,u.dependencies)})};var l=function(e,t,r,i){if(!e||typeof e!=="object"){return Promise.resolve(null)}var a=[e];var o=[];var s=[];var u=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var r=0,n=e;r<n.length;r++){var i=n[r];if(typeof i==="object"){a.push(i)}}};var l=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var r=0,n=e;r<n.length;r++){var i=n[r];if(typeof i==="object"){for(var o in i){var s=o;var u=i[s];if(typeof u==="object"){a.push(u)}}}}};var h=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var r=0,n=e;r<n.length;r++){var i=n[r];if(Array.isArray(i)){for(var o=0,s=i;o<s.length;o++){var u=s[o];if(typeof u==="object"){a.push(u)}}}}};var d=function(e){var n=[];while(e.$ref){var a=e.$ref;var o=a.split("#",2);delete e.$ref;if(o[0].length>0){s.push(c(e,o[0],o[1],r,i));return}else{if(n.indexOf(a)===-1){f(e,t,r,o[1]);n.push(a)}}}u(e.items,e.additionalItems,e.additionalProperties,e.not,e.contains,e.propertyNames,e.if,e.then,e.else);l(e.definitions,e.properties,e.patternProperties,e.dependencies);h(e.anyOf,e.allOf,e.oneOf,e.items)};while(a.length){var p=a.pop();if(o.indexOf(p)>=0){continue}o.push(p);d(p)}return n.promise.all(s)};return l(a,a,t,r).then(function(e){return new ir(a,i)})};e.prototype.getSchemaForResource=function(e,t){if(t&&t.root&&t.root.type==="object"){var r=t.root.properties.filter(function(e){return e.keyNode.value==="$schema"&&e.valueNode&&e.valueNode.type==="string"});if(r.length>0){var n=r[0].valueNode;if(n&&n.type==="string"){var i=Vt(n);if(i&&Wt(i,".")&&this.contextService){i=this.contextService.resolveRelativePath(i,e)}if(i){var a=sr(i);return this.getOrAddSchemaHandle(a).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===e){return this.cachedSchemaForResource.resolvedSchema}var o=Object.create(null);var s=[];var u=ur(e);for(var f=0,c=this.filePatternAssociations;f<c.length;f++){var l=c[f];if(l.matchesPattern(u)){for(var h=0,d=l.getURIs();h<d.length;h++){var p=d[h];if(!o[p]){s.push(p);o[p]=true}}}}var g=s.length>0?this.createCombinedSchema(e,s).getResolvedSchema():this.promise.resolve(undefined);this.cachedSchemaForResource={resource:e,resolvedSchema:g};return g};e.prototype.createCombinedSchema=function(e,t){if(t.length===1){return this.getOrAddSchemaHandle(t[0])}else{var r="schemaservice://combinedSchema/"+encodeURIComponent(e);var n={allOf:t.map(function(e){return{$ref:e}})};return this.addSchemaHandle(r,n)}};e.prototype.getMatchingSchemas=function(e,t,r){if(r){var n=r.id||"schemaservice://untitled/matchingSchemas/"+or++;return this.resolveSchemaContent(new nr(r),n,{}).then(function(e){return t.getMatchingSchemas(e.schema).filter(function(e){return!e.inverted})})}return this.getSchemaForResource(e.uri,t).then(function(e){if(e){return t.getMatchingSchemas(e.schema).filter(function(e){return!e.inverted})}return[]})};return e}();var or=0;function sr(e){try{return Yt["a"].parse(e).toString()}catch(t){return e}}function ur(e){try{return Yt["a"].parse(e).with({fragment:null,query:null}).toString()}catch(t){return e}}function fr(e){try{var t=Yt["a"].parse(e);if(t.scheme==="file"){return t.fsPath}}catch(e){}return e}var cr=mt();var lr=function(){function e(e,t){this.jsonSchemaService=e;this.promise=t;this.validationEnabled=true}e.prototype.configure=function(e){if(e){this.validationEnabled=e.validate!==false;this.commentSeverity=e.allowComments?undefined:fe.Error}};e.prototype.doValidation=function(e,t,r,n){var i=this;if(!this.validationEnabled){return this.promise.resolve([])}var a=[];var o={};var s=function(e){var t=e.range.start.line+" "+e.range.start.character+" "+e.message;if(!o[t]){o[t]=true;a.push(e)}};var u=function(n){var o=r?gr(r.trailingCommas):fe.Error;var u=r?gr(r.comments):i.commentSeverity;var f=(r===null||r===void 0?void 0:r.schemaValidation)?gr(r.schemaValidation):fe.Warning;var c=(r===null||r===void 0?void 0:r.schemaRequest)?gr(r.schemaRequest):fe.Warning;if(n){if(n.errors.length&&t.root&&c){var l=t.root;var h=l.type==="object"?l.properties[0]:undefined;if(h&&h.keyNode.value==="$schema"){var d=h.valueNode||h;var p=ee.create(e.positionAt(d.offset),e.positionAt(d.offset+d.length));s(he.create(p,n.errors[0],c,ht.SchemaResolveError))}else{var p=ee.create(e.positionAt(l.offset),e.positionAt(l.offset+1));s(he.create(p,n.errors[0],c,ht.SchemaResolveError))}}else if(f){var g=t.validate(e,n.schema,f);if(g){g.forEach(s)}}if(dr(n.schema)){u=undefined}if(pr(n.schema)){o=undefined}}for(var m=0,v=t.syntaxErrors;m<v.length;m++){var y=v[m];if(y.code===ht.TrailingComma){if(typeof o!=="number"){continue}y.severity=o}s(y)}if(typeof u==="number"){var b=cr("InvalidCommentToken","Comments are not permitted in JSON.");t.comments.forEach(function(e){s(he.create(e,b,u,ht.CommentNotPermitted))})}return a};if(n){var f=n.id||"schemaservice://untitled/"+hr++;return this.jsonSchemaService.resolveSchemaContent(new nr(n),f,{}).then(function(e){return u(e)})}return this.jsonSchemaService.getSchemaForResource(e.uri,t).then(function(e){return u(e)})};return e}();var hr=0;function dr(e){if(e&&typeof e==="object"){if(G(e.allowComments)){return e.allowComments}if(e.allOf){for(var t=0,r=e.allOf;t<r.length;t++){var n=r[t];var i=dr(n);if(G(i)){return i}}}}return undefined}function pr(e){if(e&&typeof e==="object"){if(G(e.allowTrailingCommas)){return e.allowTrailingCommas}var t=e;if(G(t["allowsTrailingCommas"])){return t["allowsTrailingCommas"]}if(e.allOf){for(var r=0,n=e.allOf;r<n.length;r++){var i=n[r];var a=pr(i);if(G(a)){return a}}}}return undefined}function gr(e){switch(e){case"error":return fe.Error;case"warning":return fe.Warning;case"ignore":return undefined}return undefined}var mr=48;var vr=57;var yr=65;var br=97;var xr=102;function kr(e){if(e<mr){return 0}if(e<=vr){return e-mr}if(e<br){e+=br-yr}if(e>=br&&e<=xr){return e-br+10}return 0}function wr(e){if(e[0]!=="#"){return undefined}switch(e.length){case 4:return{red:kr(e.charCodeAt(1))*17/255,green:kr(e.charCodeAt(2))*17/255,blue:kr(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:kr(e.charCodeAt(1))*17/255,green:kr(e.charCodeAt(2))*17/255,blue:kr(e.charCodeAt(3))*17/255,alpha:kr(e.charCodeAt(4))*17/255};case 7:return{red:(kr(e.charCodeAt(1))*16+kr(e.charCodeAt(2)))/255,green:(kr(e.charCodeAt(3))*16+kr(e.charCodeAt(4)))/255,blue:(kr(e.charCodeAt(5))*16+kr(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(kr(e.charCodeAt(1))*16+kr(e.charCodeAt(2)))/255,green:(kr(e.charCodeAt(3))*16+kr(e.charCodeAt(4)))/255,blue:(kr(e.charCodeAt(5))*16+kr(e.charCodeAt(6)))/255,alpha:(kr(e.charCodeAt(7))*16+kr(e.charCodeAt(8)))/255}}return undefined}function Ar(e,t,r,n){if(n===void 0){n=1}return{red:e/255,green:t/255,blue:r/255,alpha:n}}var Cr=function(){function e(e){this.schemaService=e}e.prototype.findDocumentSymbols=function(e,t,r){var n=this;if(r===void 0){r={resultLimit:Number.MAX_VALUE}}var i=t.root;if(!i){return[]}var a=r.resultLimit||Number.MAX_VALUE;var o=e.uri;if(o==="vscode://defaultsettings/keybindings.json"||qt(o.toLowerCase(),"/user/keybindings.json")){if(i.type==="array"){var s=[];for(var u=0,f=i.items;u<f.length;u++){var c=f[u];if(c.type==="object"){for(var l=0,h=c.properties;l<h.length;l++){var d=h[l];if(d.keyNode.value==="key"&&d.valueNode){var p=te.create(e.uri,Sr(e,c));s.push({name:Vt(d.valueNode),kind:Ke.Function,location:p});a--;if(a<=0){if(r&&r.onResultLimitExceeded){r.onResultLimitExceeded(o)}return s}}}}}return s}}var g=[{node:i,containerName:""}];var m=0;var v=false;var y=[];var b=function(t,r){if(t.type==="array"){t.items.forEach(function(e){if(e){g.push({node:e,containerName:r})}})}else if(t.type==="object"){t.properties.forEach(function(t){var i=t.valueNode;if(i){if(a>0){a--;var o=te.create(e.uri,Sr(e,t));var s=r?r+"."+t.keyNode.value:t.keyNode.value;y.push({name:n.getKeyLabel(t),kind:n.getSymbolKind(i.type),location:o,containerName:r});g.push({node:i,containerName:s})}else{v=true}}})}};while(m<g.length){var x=g[m++];b(x.node,x.containerName)}if(v&&r&&r.onResultLimitExceeded){r.onResultLimitExceeded(o)}return y};e.prototype.findDocumentSymbols2=function(e,t,r){var n=this;if(r===void 0){r={resultLimit:Number.MAX_VALUE}}var i=t.root;if(!i){return[]}var a=r.resultLimit||Number.MAX_VALUE;var o=e.uri;if(o==="vscode://defaultsettings/keybindings.json"||qt(o.toLowerCase(),"/user/keybindings.json")){if(i.type==="array"){var s=[];for(var u=0,f=i.items;u<f.length;u++){var c=f[u];if(c.type==="object"){for(var l=0,h=c.properties;l<h.length;l++){var d=h[l];if(d.keyNode.value==="key"&&d.valueNode){var p=Sr(e,c);var g=Sr(e,d.keyNode);s.push({name:Vt(d.valueNode),kind:Ke.Function,range:p,selectionRange:g});a--;if(a<=0){if(r&&r.onResultLimitExceeded){r.onResultLimitExceeded(o)}return s}}}}}return s}}var m=[];var v=[{node:i,result:m}];var y=0;var b=false;var x=function(t,r){if(t.type==="array"){t.items.forEach(function(t,i){if(t){if(a>0){a--;var o=Sr(e,t);var s=o;var u=String(i);var f={name:u,kind:n.getSymbolKind(t.type),range:o,selectionRange:s,children:[]};r.push(f);v.push({result:f.children,node:t})}else{b=true}}})}else if(t.type==="object"){t.properties.forEach(function(t){var i=t.valueNode;if(i){if(a>0){a--;var o=Sr(e,t);var s=Sr(e,t.keyNode);var u=[];var f={name:n.getKeyLabel(t),kind:n.getSymbolKind(i.type),range:o,selectionRange:s,children:u,detail:n.getDetail(i)};r.push(f);v.push({result:u,node:i})}else{b=true}}})}};while(y<v.length){var k=v[y++];x(k.node,k.result)}if(b&&r&&r.onResultLimitExceeded){r.onResultLimitExceeded(o)}return m};e.prototype.getSymbolKind=function(e){switch(e){case"object":return Ke.Module;case"string":return Ke.String;case"number":return Ke.Number;case"array":return Ke.Array;case"boolean":return Ke.Boolean;default:return Ke.Variable}};e.prototype.getKeyLabel=function(e){var t=e.keyNode.value;if(t){t=t.replace(/[\n]/g,"")}if(t&&t.trim()){return t}return'"'+t+'"'};e.prototype.getDetail=function(e){if(!e){return undefined}if(e.type==="boolean"||e.type==="number"||e.type==="null"||e.type==="string"){return String(e.value)}else{if(e.type==="array"){return e.children.length?undefined:"[]"}else if(e.type==="object"){return e.children.length?undefined:"{}"}}return undefined};e.prototype.findDocumentColors=function(e,t,r){return this.schemaService.getSchemaForResource(e.uri,t).then(function(n){var i=[];if(n){var a=r&&typeof r.resultLimit==="number"?r.resultLimit:Number.MAX_VALUE;var o=t.getMatchingSchemas(n.schema);var s={};for(var u=0,f=o;u<f.length;u++){var c=f[u];if(!c.inverted&&c.schema&&(c.schema.format==="color"||c.schema.format==="color-hex")&&c.node&&c.node.type==="string"){var l=String(c.node.offset);if(!s[l]){var h=wr(Vt(c.node));if(h){var d=Sr(e,c.node);i.push({color:h,range:d})}s[l]=true;a--;if(a<=0){if(r&&r.onResultLimitExceeded){r.onResultLimitExceeded(e.uri)}return i}}}}}return i})};e.prototype.getColorPresentations=function(e,t,r,n){var i=[];var a=Math.round(r.red*255),o=Math.round(r.green*255),s=Math.round(r.blue*255);function u(e){var t=e.toString(16);return t.length!==2?"0"+t:t}var f;if(r.alpha===1){f="#"+u(a)+u(o)+u(s)}else{f="#"+u(a)+u(o)+u(s)+u(Math.round(r.alpha*255))}i.push({label:f,textEdit:pe.replace(n,JSON.stringify(f))});return i};return e}();function Sr(e,t){return ee.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var Tr=mt();var Er={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{title:Tr("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:false},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:false},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:Tr("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:true,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:true,readOnly:{type:"boolean",default:false},examples:{type:"array",items:true},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:true},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:false},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:true,enum:{type:"array",items:true,minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:true}}};var Or={id:Tr("schema.json.id","A unique identifier for the schema."),$schema:Tr("schema.json.$schema","The schema to verify this document against."),title:Tr("schema.json.title","A descriptive title of the element."),description:Tr("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:Tr("schema.json.default","A default value. Used by suggestions."),multipleOf:Tr("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:Tr("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:Tr("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:Tr("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:Tr("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:Tr("schema.json.maxLength","The maximum length of a string."),minLength:Tr("schema.json.minLength","The minimum length of a string."),pattern:Tr("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:Tr("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:Tr("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:Tr("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:Tr("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:Tr("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:Tr("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:Tr("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:Tr("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:Tr("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:Tr("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:Tr("schema.json.properties","A map of property names to schemas for each property."),patternProperties:Tr("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:Tr("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:Tr("schema.json.enum","The set of literal values that are valid."),type:Tr("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:Tr("schema.json.format","Describes the format expected for the value."),allOf:Tr("schema.json.allOf","An array of schemas, all of which must match."),anyOf:Tr("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:Tr("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:Tr("schema.json.not","A schema which must not match."),$id:Tr("schema.json.$id","A unique identifier for the schema."),$ref:Tr("schema.json.$ref","Reference a definition hosted on any location."),$comment:Tr("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:Tr("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:Tr("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:Tr("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:Tr("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:Tr("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:Tr("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:Tr("schema.json.contentEncoding","Describes the content encoding of a string property."),if:Tr("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:Tr("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:Tr("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var Ir in Er.schemas){var jr=Er.schemas[Ir];for(var Pr in jr.properties){var _r=jr.properties[Pr];if(typeof _r==="boolean"){_r=jr.properties[Pr]={}}var Mr=Or[Pr];if(Mr){_r["description"]=Mr}else{console.log(Pr+": localize('schema.json."+Pr+'\', "")')}}}function Nr(e,t){var r=[];var n=[];var i=[];var a=-1;var o=_(e.getText(),false);var s=o.scan();function u(e){r.push(e);n.push(i.length)}while(s!==17){switch(s){case 1:case 3:{var f=e.positionAt(o.getTokenOffset()).line;var c={startLine:f,endLine:f,kind:s===1?"object":"array"};i.push(c);break}case 2:case 4:{var l=s===2?"object":"array";if(i.length>0&&i[i.length-1].kind===l){var c=i.pop();var h=e.positionAt(o.getTokenOffset()).line;if(c&&h>c.startLine+1&&a!==c.startLine){c.endLine=h-1;u(c);a=c.startLine}}break}case 13:{var f=e.positionAt(o.getTokenOffset()).line;var d=e.positionAt(o.getTokenOffset()+o.getTokenLength()).line;if(o.getTokenError()===1&&f+1<e.lineCount){o.setPosition(e.offsetAt(Y.create(f+1,0)))}else{if(f<d){u({startLine:f,endLine:d,kind:oe.Comment});a=f}}break}case 12:{var p=e.getText().substr(o.getTokenOffset(),o.getTokenLength());var g=p.match(/^\/\/\s*#(region\b)|(endregion\b)/);if(g){var h=e.positionAt(o.getTokenOffset()).line;if(g[1]){var c={startLine:h,endLine:h,kind:oe.Region};i.push(c)}else{var m=i.length-1;while(m>=0&&i[m].kind!==oe.Region){m--}if(m>=0){var c=i[m];i.length=m;if(h>c.startLine&&a!==c.startLine){c.endLine=h;u(c);a=c.startLine}}}}break}}s=o.scan()}var v=t&&t.rangeLimit;if(typeof v!=="number"||r.length<=v){return r}if(t&&t.onRangeLimitExceeded){t.onRangeLimitExceeded(e.uri)}var y=[];for(var b=0,x=n;b<x.length;b++){var k=x[b];if(k<30){y[k]=(y[k]||0)+1}}var w=0;var A=0;for(var m=0;m<y.length;m++){var C=y[m];if(C){if(C+w>v){A=m;break}w+=C}}var S=[];for(var m=0;m<r.length;m++){var k=n[m];if(typeof k==="number"){if(k<A||k===A&&w++<v){S.push(r[m])}}}return S}function Vr(e,t,r){function n(t){var n=e.offsetAt(t);var a=r.getNodeFromOffset(n,true);var s=[];while(a){switch(a.type){case"string":case"object":case"array":var u=a.offset+1,f=a.offset+a.length-1;if(u<f&&n>=u&&n<=f){s.push(i(u,f))}s.push(i(a.offset,a.offset+a.length));break;case"number":case"boolean":case"null":case"property":s.push(i(a.offset,a.offset+a.length));break}if(a.type==="property"||a.parent&&a.parent.type==="array"){var c=o(a.offset+a.length,5);if(c!==-1){s.push(i(a.offset,c))}}a=a.parent}var l=undefined;for(var h=s.length-1;h>=0;h--){l=tt.create(s[h],l)}if(!l){l=tt.create(ee.create(t,t))}return l}function i(t,r){return ee.create(e.positionAt(t),e.positionAt(r))}var a=_(e.getText(),true);function o(e,t){a.setPosition(e);var r=a.scan();if(r===t){return a.getTokenOffset()+a.getTokenLength()}return-1}return t.map(n)}function Fr(e,t){var r=[];t.visit(function(n){var i;if(n.type==="property"&&n.keyNode.value==="$ref"&&((i=n.valueNode)===null||i===void 0?void 0:i.type)==="string"){var a=n.valueNode.value;var o=Lr(t,a);if(o){var s=e.positionAt(o.offset);r.push({target:e.uri+"#"+(s.line+1)+","+(s.character+1),range:Rr(e,n.valueNode)})}}return true});return Promise.resolve(r)}function Rr(e,t){return ee.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function Lr(e,t){var r=$r(t);if(!r){return null}return Dr(r,e.root)}function Dr(e,t){if(!t){return null}if(e.length===0){return t}var r=e.shift();if(t&&t.type==="object"){var n=t.properties.find(function(e){return e.keyNode.value===r});if(!n){return null}return Dr(e,n.valueNode)}else if(t&&t.type==="array"){if(r.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(r);var a=t.items[i];if(!a){return null}return Dr(e,a)}}return null}function $r(e){if(e==="#"){return[]}if(e[0]!=="#"||e[1]!=="/"){return null}return e.substring(2).split(/\//).map(Ur)}function Ur(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Wr(e){var t=e.promiseConstructor||Promise;var r=new ar(e.schemaRequestService,e.workspaceContext,t);r.setSchemaContributions(Er);var n=new Gt(r,e.contributions,t,e.clientCapabilities);var i=new Xt(r,e.contributions,t);var a=new Cr(r);var o=new lr(r,t);return{configure:function(e){r.clearExternalSchemas();if(e.schemas){e.schemas.forEach(function(e){r.registerExternalSchema(e.uri,e.fileMatch,e.schema)})}o.configure(e)},resetSchema:function(e){return r.onResourceChange(e)},doValidation:o.doValidation.bind(o),parseJSONDocument:function(e){return $t(e,{collectComments:true})},newJSONDocument:function(e,t){return Nt(e,t)},getMatchingSchemas:r.getMatchingSchemas.bind(r),doResolve:n.doResolve.bind(n),doComplete:n.doComplete.bind(n),findDocumentSymbols:a.findDocumentSymbols.bind(a),findDocumentSymbols2:a.findDocumentSymbols2.bind(a),findDocumentColors:a.findDocumentColors.bind(a),getColorPresentations:a.getColorPresentations.bind(a),doHover:i.doHover.bind(i),getFoldingRanges:Nr,getSelectionRanges:Vr,findDefinition:function(){return Promise.resolve([])},findLinks:Fr,format:function(e,t,r){var n=undefined;if(t){var i=e.offsetAt(t.start);var a=e.offsetAt(t.end)-i;n={offset:i,length:a}}var o={tabSize:r?r.tabSize:4,insertSpaces:(r===null||r===void 0?void 0:r.insertSpaces)===true,insertFinalNewline:(r===null||r===void 0?void 0:r.insertFinalNewline)===true,eol:"\n"};return q(e.getText(),n,o).map(function(t){return pe.replace(ee.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)),t.content)})}}}var qr=function(){function e(e,t,r){var i=this;this._languageId=e;this._worker=t;this._disposables=[];this._listener=Object.create(null);var a=function(e){var t=e.getModeId();if(t!==i._languageId){return}var r;i._listener[e.uri.toString()]=e.onDidChangeContent(function(){clearTimeout(r);r=setTimeout(function(){return i._doValidate(e.uri,t)},500)});i._doValidate(e.uri,t)};var o=function(e){n["editor"].setModelMarkers(e,i._languageId,[]);var t=e.uri.toString();var r=i._listener[t];if(r){r.dispose();delete i._listener[t]}};this._disposables.push(n["editor"].onDidCreateModel(a));this._disposables.push(n["editor"].onWillDisposeModel(function(e){o(e);i._resetSchema(e.uri)}));this._disposables.push(n["editor"].onDidChangeModelLanguage(function(e){o(e.model);a(e.model);i._resetSchema(e.model.uri)}));this._disposables.push(r.onDidChange(function(e){n["editor"].getModels().forEach(function(e){if(e.getModeId()===i._languageId){o(e);a(e)}})}));this._disposables.push({dispose:function(){n["editor"].getModels().forEach(o);for(var e in i._listener){i._listener[e].dispose()}}});n["editor"].getModels().forEach(a)}e.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()});this._disposables=[]};e.prototype._resetSchema=function(e){this._worker().then(function(t){t.resetSchema(e.toString())})};e.prototype._doValidate=function(e,t){this._worker(e).then(function(r){return r.doValidation(e.toString()).then(function(r){var i=r.map(function(t){return Kr(e,t)});var a=n["editor"].getModel(e);if(a&&a.getModeId()===t){n["editor"].setModelMarkers(a,t,i)}})}).then(undefined,function(e){console.error(e)})};return e}();function Br(e){switch(e){case fe.Error:return n["MarkerSeverity"].Error;case fe.Warning:return n["MarkerSeverity"].Warning;case fe.Information:return n["MarkerSeverity"].Info;case fe.Hint:return n["MarkerSeverity"].Hint;default:return n["MarkerSeverity"].Info}}function Kr(e,t){var r=typeof t.code==="number"?String(t.code):t.code;return{severity:Br(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:r,source:t.source}}function Jr(e){if(!e){return void 0}return{character:e.column-1,line:e.lineNumber-1}}function zr(e){if(!e){return void 0}return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function Hr(e){if(!e){return void 0}return new n["Range"](e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function Gr(e){return typeof e.insert!=="undefined"&&typeof e.replace!=="undefined"}function Xr(e){var t=n["languages"].CompletionItemKind;switch(e){case _e.Text:return t.Text;case _e.Method:return t.Method;case _e.Function:return t.Function;case _e.Constructor:return t.Constructor;case _e.Field:return t.Field;case _e.Variable:return t.Variable;case _e.Class:return t.Class;case _e.Interface:return t.Interface;case _e.Module:return t.Module;case _e.Property:return t.Property;case _e.Unit:return t.Unit;case _e.Value:return t.Value;case _e.Enum:return t.Enum;case _e.Keyword:return t.Keyword;case _e.Snippet:return t.Snippet;case _e.Color:return t.Color;case _e.File:return t.File;case _e.Reference:return t.Reference}return t.Property}function Zr(e){var t=n["languages"].CompletionItemKind;switch(e){case t.Text:return _e.Text;case t.Method:return _e.Method;case t.Function:return _e.Function;case t.Constructor:return _e.Constructor;case t.Field:return _e.Field;case t.Variable:return _e.Variable;case t.Class:return _e.Class;case t.Interface:return _e.Interface;case t.Module:return _e.Module;case t.Property:return _e.Property;case t.Unit:return _e.Unit;case t.Value:return _e.Value;case t.Enum:return _e.Enum;case t.Keyword:return _e.Keyword;case t.Snippet:return _e.Snippet;case t.Color:return _e.Color;case t.File:return _e.File;case t.Reference:return _e.Reference}return _e.Property}function Qr(e){if(!e){return void 0}return{range:Hr(e.range),text:e.newText}}var Yr=function(){function e(e){this._worker=e}Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:false,configurable:true});e.prototype.provideCompletionItems=function(e,t,r,i){var a=e.uri;return this._worker(a).then(function(e){return e.doComplete(a.toString(),Jr(t))}).then(function(r){if(!r){return}var i=e.getWordUntilPosition(t);var a=new n["Range"](t.lineNumber,i.startColumn,t.lineNumber,i.endColumn);var o=r.items.map(function(e){var t={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,range:a,kind:Xr(e.kind)};if(e.textEdit){if(Gr(e.textEdit)){t.range={insert:Hr(e.textEdit.insert),replace:Hr(e.textEdit.replace)}}else{t.range=Hr(e.textEdit.range)}t.insertText=e.textEdit.newText}if(e.additionalTextEdits){t.additionalTextEdits=e.additionalTextEdits.map(Qr)}if(e.insertTextFormat===Me.Snippet){t.insertTextRules=n["languages"].CompletionItemInsertTextRule.InsertAsSnippet}return t});return{isIncomplete:r.isIncomplete,suggestions:o}})};return e}();function en(e){return e&&typeof e==="object"&&typeof e.kind==="string"}function tn(e){if(typeof e==="string"){return{value:e}}if(en(e)){if(e.kind==="plaintext"){return{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}return{value:e.value}}return{value:"```"+e.language+"\n"+e.value+"\n```\n"}}function rn(e){if(!e){return void 0}if(Array.isArray(e)){return e.map(tn)}return[tn(e)]}var nn=function(){function e(e){this._worker=e}e.prototype.provideHover=function(e,t,r){var n=e.uri;return this._worker(n).then(function(e){return e.doHover(n.toString(),Jr(t))}).then(function(e){if(!e){return}return{range:Hr(e.range),contents:rn(e.contents)}})};return e}();function an(e){return{uri:n["Uri"].parse(e.uri),range:Hr(e.range)}}function on(e){var t=n["languages"].SymbolKind;switch(e){case Ke.File:return t.Array;case Ke.Module:return t.Module;case Ke.Namespace:return t.Namespace;case Ke.Package:return t.Package;case Ke.Class:return t.Class;case Ke.Method:return t.Method;case Ke.Property:return t.Property;case Ke.Field:return t.Field;case Ke.Constructor:return t.Constructor;case Ke.Enum:return t.Enum;case Ke.Interface:return t.Interface;case Ke.Function:return t.Function;case Ke.Variable:return t.Variable;case Ke.Constant:return t.Constant;case Ke.String:return t.String;case Ke.Number:return t.Number;case Ke.Boolean:return t.Boolean;case Ke.Array:return t.Array}return t.Function}var sn=function(){function e(e){this._worker=e}e.prototype.provideDocumentSymbols=function(e,t){var r=e.uri;return this._worker(r).then(function(e){return e.findDocumentSymbols(r.toString())}).then(function(e){if(!e){return}return e.map(function(e){return{name:e.name,detail:"",containerName:e.containerName,kind:on(e.kind),range:Hr(e.location.range),selectionRange:Hr(e.location.range),tags:[]}})})};return e}();function un(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}var fn=function(){function e(e){this._worker=e}e.prototype.provideDocumentFormattingEdits=function(e,t,r){var n=e.uri;return this._worker(n).then(function(e){return e.format(n.toString(),null,un(t)).then(function(e){if(!e||e.length===0){return}return e.map(Qr)})})};return e}();var cn=function(){function e(e){this._worker=e}e.prototype.provideDocumentRangeFormattingEdits=function(e,t,r,n){var i=e.uri;return this._worker(i).then(function(e){return e.format(i.toString(),zr(t),un(r)).then(function(e){if(!e||e.length===0){return}return e.map(Qr)})})};return e}();var ln=function(){function e(e){this._worker=e}e.prototype.provideDocumentColors=function(e,t){var r=e.uri;return this._worker(r).then(function(e){return e.findDocumentColors(r.toString())}).then(function(e){if(!e){return}return e.map(function(e){return{color:e.color,range:Hr(e.range)}})})};e.prototype.provideColorPresentations=function(e,t,r){var n=e.uri;return this._worker(n).then(function(e){return e.getColorPresentations(n.toString(),t.color,zr(t.range))}).then(function(e){if(!e){return}return e.map(function(e){var t={label:e.label};if(e.textEdit){t.textEdit=Qr(e.textEdit)}if(e.additionalTextEdits){t.additionalTextEdits=e.additionalTextEdits.map(Qr)}return t})})};return e}();var hn=function(){function e(e){this._worker=e}e.prototype.provideFoldingRanges=function(e,t,r){var n=e.uri;return this._worker(n).then(function(e){return e.getFoldingRanges(n.toString(),t)}).then(function(e){if(!e){return}return e.map(function(e){var t={start:e.startLine+1,end:e.endLine+1};if(typeof e.kind!=="undefined"){t.kind=dn(e.kind)}return t})})};return e}();function dn(e){switch(e){case oe.Comment:return n["languages"].FoldingRangeKind.Comment;case oe.Imports:return n["languages"].FoldingRangeKind.Imports;case oe.Region:return n["languages"].FoldingRangeKind.Region}return void 0}var pn=function(){function e(e){this._worker=e}e.prototype.provideSelectionRanges=function(e,t,r){var n=e.uri;return this._worker(n).then(function(e){return e.getSelectionRanges(n.toString(),t.map(Jr))}).then(function(e){if(!e){return}return e.map(function(e){var t=[];while(e){t.push({range:Hr(e.range)});e=e.parent}return t})})};return e}();function gn(e){return{getInitialState:function(){return new On(null,null,false,null)},tokenize:function(t,r,n,i){return In(e,t,r,n,i)}}}var mn="delimiter.bracket.json";var vn="delimiter.array.json";var yn="delimiter.colon.json";var bn="delimiter.comma.json";var xn="keyword.json";var kn="keyword.json";var wn="string.value.json";var An="number.json";var Cn="string.key.json";var Sn="comment.block.json";var Tn="comment.line.json";var En=function(){function e(e,t){this.parent=e;this.type=t}e.pop=function(e){if(e){return e.parent}return null};e.push=function(t,r){return new e(t,r)};e.equals=function(e,t){if(!e&&!t){return true}if(!e||!t){return false}while(e&&t){if(e===t){return true}if(e.type!==t.type){return false}e=e.parent;t=t.parent}return true};return e}();var On=function(){function e(e,t,r,n){this._state=e;this.scanError=t;this.lastWasColon=r;this.parents=n}e.prototype.clone=function(){return new e(this._state,this.scanError,this.lastWasColon,this.parents)};e.prototype.equals=function(t){if(t===this){return true}if(!t||!(t instanceof e)){return false}return this.scanError===t.scanError&&this.lastWasColon===t.lastWasColon&&En.equals(this.parents,t.parents)};e.prototype.getStateData=function(){return this._state};e.prototype.setStateData=function(e){this._state=e};return e}();function In(e,t,r,n,i){if(n===void 0){n=0}var a=0;var o=false;switch(r.scanError){case 2:t='"'+t;a=1;break;case 1:t="/*"+t;a=2;break}var s=_(t);var u=r.lastWasColon;var f=r.parents;var c={tokens:[],endState:r.clone()};while(true){var l=n+s.getPosition();var h="";var d=s.scan();if(d===17){break}if(l===n+s.getPosition()){throw new Error("Scanner did not advance, next 3 characters are: "+t.substr(s.getPosition(),3))}if(o){l-=a}o=a>0;switch(d){case 1:f=En.push(f,0);h=mn;u=false;break;case 2:f=En.pop(f);h=mn;u=false;break;case 3:f=En.push(f,1);h=vn;u=false;break;case 4:f=En.pop(f);h=vn;u=false;break;case 6:h=yn;u=true;break;case 5:h=bn;u=false;break;case 8:case 9:h=xn;u=false;break;case 7:h=kn;u=false;break;case 10:var p=f?f.type:0;var g=p===1;h=u||g?wn:Cn;u=false;break;case 11:h=An;u=false;break}if(e){switch(d){case 12:h=Tn;break;case 13:h=Sn;break}}c.endState=new On(r.getStateData(),s.getTokenError(),u,f);c.tokens.push({startIndex:l,scopes:h})}return c}function jn(e){var t=[];var r=[];var i=new a(e);t.push(i);var o=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return i.getLanguageServiceWorker.apply(i,e)};function s(){var t=e.languageId,i=e.modeConfiguration;_n(r);if(i.documentFormattingEdits){r.push(n["languages"].registerDocumentFormattingEditProvider(t,new fn(o)))}if(i.documentRangeFormattingEdits){r.push(n["languages"].registerDocumentRangeFormattingEditProvider(t,new cn(o)))}if(i.completionItems){r.push(n["languages"].registerCompletionItemProvider(t,new Yr(o)))}if(i.hovers){r.push(n["languages"].registerHoverProvider(t,new nn(o)))}if(i.documentSymbols){r.push(n["languages"].registerDocumentSymbolProvider(t,new sn(o)))}if(i.tokens){r.push(n["languages"].setTokensProvider(t,gn(true)))}if(i.colors){r.push(n["languages"].registerColorProvider(t,new ln(o)))}if(i.foldingRanges){r.push(n["languages"].registerFoldingRangeProvider(t,new hn(o)))}if(i.diagnostics){r.push(new qr(t,o,e))}if(i.selectionRanges){r.push(n["languages"].registerSelectionRangeProvider(t,new pn(o)))}}s();t.push(n["languages"].setLanguageConfiguration(e.languageId,Mn));var u=e.modeConfiguration;e.onDidChange(function(e){if(e.modeConfiguration!==u){u=e.modeConfiguration;s()}});t.push(Pn(r));return Pn(t)}function Pn(e){return{dispose:function(){return _n(e)}}}function _n(e){while(e.length){e.pop().dispose()}}var Mn={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}}}]);